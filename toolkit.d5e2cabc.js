/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/assets/toolkit/scripts/toolkit.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/cookies-js/dist/cookies.js":
/*!*************************************************!*\
  !*** ./node_modules/cookies-js/dist/cookies.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n * Cookies.js - 1.2.3\r\n * https://github.com/ScottHamper/Cookies\r\n *\r\n * This is free and unencumbered software released into the public domain.\r\n */\r\n(function (global, undefined) {\r\n    'use strict';\r\n\r\n    var factory = function (window) {\r\n        if (typeof window.document !== 'object') {\r\n            throw new Error('Cookies.js requires a `window` with a `document` object');\r\n        }\r\n\r\n        var Cookies = function (key, value, options) {\r\n            return arguments.length === 1 ?\r\n                Cookies.get(key) : Cookies.set(key, value, options);\r\n        };\r\n\r\n        // Allows for setter injection in unit tests\r\n        Cookies._document = window.document;\r\n\r\n        // Used to ensure cookie keys do not collide with\r\n        // built-in `Object` properties\r\n        Cookies._cacheKeyPrefix = 'cookey.'; // Hurr hurr, :)\r\n        \r\n        Cookies._maxExpireDate = new Date('Fri, 31 Dec 9999 23:59:59 UTC');\r\n\r\n        Cookies.defaults = {\r\n            path: '/',\r\n            secure: false\r\n        };\r\n\r\n        Cookies.get = function (key) {\r\n            if (Cookies._cachedDocumentCookie !== Cookies._document.cookie) {\r\n                Cookies._renewCache();\r\n            }\r\n            \r\n            var value = Cookies._cache[Cookies._cacheKeyPrefix + key];\r\n\r\n            return value === undefined ? undefined : decodeURIComponent(value);\r\n        };\r\n\r\n        Cookies.set = function (key, value, options) {\r\n            options = Cookies._getExtendedOptions(options);\r\n            options.expires = Cookies._getExpiresDate(value === undefined ? -1 : options.expires);\r\n\r\n            Cookies._document.cookie = Cookies._generateCookieString(key, value, options);\r\n\r\n            return Cookies;\r\n        };\r\n\r\n        Cookies.expire = function (key, options) {\r\n            return Cookies.set(key, undefined, options);\r\n        };\r\n\r\n        Cookies._getExtendedOptions = function (options) {\r\n            return {\r\n                path: options && options.path || Cookies.defaults.path,\r\n                domain: options && options.domain || Cookies.defaults.domain,\r\n                expires: options && options.expires || Cookies.defaults.expires,\r\n                secure: options && options.secure !== undefined ?  options.secure : Cookies.defaults.secure\r\n            };\r\n        };\r\n\r\n        Cookies._isValidDate = function (date) {\r\n            return Object.prototype.toString.call(date) === '[object Date]' && !isNaN(date.getTime());\r\n        };\r\n\r\n        Cookies._getExpiresDate = function (expires, now) {\r\n            now = now || new Date();\r\n\r\n            if (typeof expires === 'number') {\r\n                expires = expires === Infinity ?\r\n                    Cookies._maxExpireDate : new Date(now.getTime() + expires * 1000);\r\n            } else if (typeof expires === 'string') {\r\n                expires = new Date(expires);\r\n            }\r\n\r\n            if (expires && !Cookies._isValidDate(expires)) {\r\n                throw new Error('`expires` parameter cannot be converted to a valid Date instance');\r\n            }\r\n\r\n            return expires;\r\n        };\r\n\r\n        Cookies._generateCookieString = function (key, value, options) {\r\n            key = key.replace(/[^#$&+\\^`|]/g, encodeURIComponent);\r\n            key = key.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\r\n            value = (value + '').replace(/[^!#$&-+\\--:<-\\[\\]-~]/g, encodeURIComponent);\r\n            options = options || {};\r\n\r\n            var cookieString = key + '=' + value;\r\n            cookieString += options.path ? ';path=' + options.path : '';\r\n            cookieString += options.domain ? ';domain=' + options.domain : '';\r\n            cookieString += options.expires ? ';expires=' + options.expires.toUTCString() : '';\r\n            cookieString += options.secure ? ';secure' : '';\r\n\r\n            return cookieString;\r\n        };\r\n\r\n        Cookies._getCacheFromString = function (documentCookie) {\r\n            var cookieCache = {};\r\n            var cookiesArray = documentCookie ? documentCookie.split('; ') : [];\r\n\r\n            for (var i = 0; i < cookiesArray.length; i++) {\r\n                var cookieKvp = Cookies._getKeyValuePairFromCookieString(cookiesArray[i]);\r\n\r\n                if (cookieCache[Cookies._cacheKeyPrefix + cookieKvp.key] === undefined) {\r\n                    cookieCache[Cookies._cacheKeyPrefix + cookieKvp.key] = cookieKvp.value;\r\n                }\r\n            }\r\n\r\n            return cookieCache;\r\n        };\r\n\r\n        Cookies._getKeyValuePairFromCookieString = function (cookieString) {\r\n            // \"=\" is a valid character in a cookie value according to RFC6265, so cannot `split('=')`\r\n            var separatorIndex = cookieString.indexOf('=');\r\n\r\n            // IE omits the \"=\" when the cookie value is an empty string\r\n            separatorIndex = separatorIndex < 0 ? cookieString.length : separatorIndex;\r\n\r\n            var key = cookieString.substr(0, separatorIndex);\r\n            var decodedKey;\r\n            try {\r\n                decodedKey = decodeURIComponent(key);\r\n            } catch (e) {\r\n                if (console && typeof console.error === 'function') {\r\n                    console.error('Could not decode cookie with key \"' + key + '\"', e);\r\n                }\r\n            }\r\n            \r\n            return {\r\n                key: decodedKey,\r\n                value: cookieString.substr(separatorIndex + 1) // Defer decoding value until accessed\r\n            };\r\n        };\r\n\r\n        Cookies._renewCache = function () {\r\n            Cookies._cache = Cookies._getCacheFromString(Cookies._document.cookie);\r\n            Cookies._cachedDocumentCookie = Cookies._document.cookie;\r\n        };\r\n\r\n        Cookies._areEnabled = function () {\r\n            var testKey = 'cookies.js';\r\n            var areEnabled = Cookies.set(testKey, 1).get(testKey) === '1';\r\n            Cookies.expire(testKey);\r\n            return areEnabled;\r\n        };\r\n\r\n        Cookies.enabled = Cookies._areEnabled();\r\n\r\n        return Cookies;\r\n    };\r\n    var cookiesExport = (global && typeof global.document === 'object') ? factory(global) : factory;\r\n\r\n    // AMD support\r\n    if (true) {\r\n        !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () { return cookiesExport; }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n    // CommonJS/Node.js support\r\n    } else {}\r\n})(typeof window === 'undefined' ? this : window);\n\n//# sourceURL=webpack:///./node_modules/cookies-js/dist/cookies.js?");

/***/ }),

/***/ "./node_modules/enquire.js/src/MediaQuery.js":
/*!***************************************************!*\
  !*** ./node_modules/enquire.js/src/MediaQuery.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var QueryHandler = __webpack_require__(/*! ./QueryHandler */ \"./node_modules/enquire.js/src/QueryHandler.js\");\nvar each = __webpack_require__(/*! ./Util */ \"./node_modules/enquire.js/src/Util.js\").each;\n\n/**\n * Represents a single media query, manages it's state and registered handlers for this query\n *\n * @constructor\n * @param {string} query the media query string\n * @param {boolean} [isUnconditional=false] whether the media query should run regardless of whether the conditions are met. Primarily for helping older browsers deal with mobile-first design\n */\nfunction MediaQuery(query, isUnconditional) {\n    this.query = query;\n    this.isUnconditional = isUnconditional;\n    this.handlers = [];\n    this.mql = window.matchMedia(query);\n\n    var self = this;\n    this.listener = function(mql) {\n        // Chrome passes an MediaQueryListEvent object, while other browsers pass MediaQueryList directly\n        self.mql = mql.currentTarget || mql;\n        self.assess();\n    };\n    this.mql.addListener(this.listener);\n}\n\nMediaQuery.prototype = {\n\n    constuctor : MediaQuery,\n\n    /**\n     * add a handler for this query, triggering if already active\n     *\n     * @param {object} handler\n     * @param {function} handler.match callback for when query is activated\n     * @param {function} [handler.unmatch] callback for when query is deactivated\n     * @param {function} [handler.setup] callback for immediate execution when a query handler is registered\n     * @param {boolean} [handler.deferSetup=false] should the setup callback be deferred until the first time the handler is matched?\n     */\n    addHandler : function(handler) {\n        var qh = new QueryHandler(handler);\n        this.handlers.push(qh);\n\n        this.matches() && qh.on();\n    },\n\n    /**\n     * removes the given handler from the collection, and calls it's destroy methods\n     *\n     * @param {object || function} handler the handler to remove\n     */\n    removeHandler : function(handler) {\n        var handlers = this.handlers;\n        each(handlers, function(h, i) {\n            if(h.equals(handler)) {\n                h.destroy();\n                return !handlers.splice(i,1); //remove from array and exit each early\n            }\n        });\n    },\n\n    /**\n     * Determine whether the media query should be considered a match\n     *\n     * @return {Boolean} true if media query can be considered a match, false otherwise\n     */\n    matches : function() {\n        return this.mql.matches || this.isUnconditional;\n    },\n\n    /**\n     * Clears all handlers and unbinds events\n     */\n    clear : function() {\n        each(this.handlers, function(handler) {\n            handler.destroy();\n        });\n        this.mql.removeListener(this.listener);\n        this.handlers.length = 0; //clear array\n    },\n\n    /*\n        * Assesses the query, turning on all handlers if it matches, turning them off if it doesn't match\n        */\n    assess : function() {\n        var action = this.matches() ? 'on' : 'off';\n\n        each(this.handlers, function(handler) {\n            handler[action]();\n        });\n    }\n};\n\nmodule.exports = MediaQuery;\n\n\n//# sourceURL=webpack:///./node_modules/enquire.js/src/MediaQuery.js?");

/***/ }),

/***/ "./node_modules/enquire.js/src/MediaQueryDispatch.js":
/*!***********************************************************!*\
  !*** ./node_modules/enquire.js/src/MediaQueryDispatch.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var MediaQuery = __webpack_require__(/*! ./MediaQuery */ \"./node_modules/enquire.js/src/MediaQuery.js\");\nvar Util = __webpack_require__(/*! ./Util */ \"./node_modules/enquire.js/src/Util.js\");\nvar each = Util.each;\nvar isFunction = Util.isFunction;\nvar isArray = Util.isArray;\n\n/**\n * Allows for registration of query handlers.\n * Manages the query handler's state and is responsible for wiring up browser events\n *\n * @constructor\n */\nfunction MediaQueryDispatch () {\n    if(!window.matchMedia) {\n        throw new Error('matchMedia not present, legacy browsers require a polyfill');\n    }\n\n    this.queries = {};\n    this.browserIsIncapable = !window.matchMedia('only all').matches;\n}\n\nMediaQueryDispatch.prototype = {\n\n    constructor : MediaQueryDispatch,\n\n    /**\n     * Registers a handler for the given media query\n     *\n     * @param {string} q the media query\n     * @param {object || Array || Function} options either a single query handler object, a function, or an array of query handlers\n     * @param {function} options.match fired when query matched\n     * @param {function} [options.unmatch] fired when a query is no longer matched\n     * @param {function} [options.setup] fired when handler first triggered\n     * @param {boolean} [options.deferSetup=false] whether setup should be run immediately or deferred until query is first matched\n     * @param {boolean} [shouldDegrade=false] whether this particular media query should always run on incapable browsers\n     */\n    register : function(q, options, shouldDegrade) {\n        var queries         = this.queries,\n            isUnconditional = shouldDegrade && this.browserIsIncapable;\n\n        if(!queries[q]) {\n            queries[q] = new MediaQuery(q, isUnconditional);\n        }\n\n        //normalise to object in an array\n        if(isFunction(options)) {\n            options = { match : options };\n        }\n        if(!isArray(options)) {\n            options = [options];\n        }\n        each(options, function(handler) {\n            if (isFunction(handler)) {\n                handler = { match : handler };\n            }\n            queries[q].addHandler(handler);\n        });\n\n        return this;\n    },\n\n    /**\n     * unregisters a query and all it's handlers, or a specific handler for a query\n     *\n     * @param {string} q the media query to target\n     * @param {object || function} [handler] specific handler to unregister\n     */\n    unregister : function(q, handler) {\n        var query = this.queries[q];\n\n        if(query) {\n            if(handler) {\n                query.removeHandler(handler);\n            }\n            else {\n                query.clear();\n                delete this.queries[q];\n            }\n        }\n\n        return this;\n    }\n};\n\nmodule.exports = MediaQueryDispatch;\n\n\n//# sourceURL=webpack:///./node_modules/enquire.js/src/MediaQueryDispatch.js?");

/***/ }),

/***/ "./node_modules/enquire.js/src/QueryHandler.js":
/*!*****************************************************!*\
  !*** ./node_modules/enquire.js/src/QueryHandler.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Delegate to handle a media query being matched and unmatched.\n *\n * @param {object} options\n * @param {function} options.match callback for when the media query is matched\n * @param {function} [options.unmatch] callback for when the media query is unmatched\n * @param {function} [options.setup] one-time callback triggered the first time a query is matched\n * @param {boolean} [options.deferSetup=false] should the setup callback be run immediately, rather than first time query is matched?\n * @constructor\n */\nfunction QueryHandler(options) {\n    this.options = options;\n    !options.deferSetup && this.setup();\n}\n\nQueryHandler.prototype = {\n\n    constructor : QueryHandler,\n\n    /**\n     * coordinates setup of the handler\n     *\n     * @function\n     */\n    setup : function() {\n        if(this.options.setup) {\n            this.options.setup();\n        }\n        this.initialised = true;\n    },\n\n    /**\n     * coordinates setup and triggering of the handler\n     *\n     * @function\n     */\n    on : function() {\n        !this.initialised && this.setup();\n        this.options.match && this.options.match();\n    },\n\n    /**\n     * coordinates the unmatch event for the handler\n     *\n     * @function\n     */\n    off : function() {\n        this.options.unmatch && this.options.unmatch();\n    },\n\n    /**\n     * called when a handler is to be destroyed.\n     * delegates to the destroy or unmatch callbacks, depending on availability.\n     *\n     * @function\n     */\n    destroy : function() {\n        this.options.destroy ? this.options.destroy() : this.off();\n    },\n\n    /**\n     * determines equality by reference.\n     * if object is supplied compare options, if function, compare match callback\n     *\n     * @function\n     * @param {object || function} [target] the target for comparison\n     */\n    equals : function(target) {\n        return this.options === target || this.options.match === target;\n    }\n\n};\n\nmodule.exports = QueryHandler;\n\n\n//# sourceURL=webpack:///./node_modules/enquire.js/src/QueryHandler.js?");

/***/ }),

/***/ "./node_modules/enquire.js/src/Util.js":
/*!*********************************************!*\
  !*** ./node_modules/enquire.js/src/Util.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Helper function for iterating over a collection\n *\n * @param collection\n * @param fn\n */\nfunction each(collection, fn) {\n    var i      = 0,\n        length = collection.length,\n        cont;\n\n    for(i; i < length; i++) {\n        cont = fn(collection[i], i);\n        if(cont === false) {\n            break; //allow early exit\n        }\n    }\n}\n\n/**\n * Helper function for determining whether target object is an array\n *\n * @param target the object under test\n * @return {Boolean} true if array, false otherwise\n */\nfunction isArray(target) {\n    return Object.prototype.toString.apply(target) === '[object Array]';\n}\n\n/**\n * Helper function for determining whether target object is a function\n *\n * @param target the object under test\n * @return {Boolean} true if function, false otherwise\n */\nfunction isFunction(target) {\n    return typeof target === 'function';\n}\n\nmodule.exports = {\n    isFunction : isFunction,\n    isArray : isArray,\n    each : each\n};\n\n\n//# sourceURL=webpack:///./node_modules/enquire.js/src/Util.js?");

/***/ }),

/***/ "./node_modules/enquire.js/src/index.js":
/*!**********************************************!*\
  !*** ./node_modules/enquire.js/src/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var MediaQueryDispatch = __webpack_require__(/*! ./MediaQueryDispatch */ \"./node_modules/enquire.js/src/MediaQueryDispatch.js\");\nmodule.exports = new MediaQueryDispatch();\n\n\n//# sourceURL=webpack:///./node_modules/enquire.js/src/index.js?");

/***/ }),

/***/ "./node_modules/headroom.js/dist/headroom.js":
/*!***************************************************!*\
  !*** ./node_modules/headroom.js/dist/headroom.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * headroom.js v0.9.4 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n(function(root, factory) {\n  'use strict';\n\n  if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n  else {}\n}(this, function() {\n  'use strict';\n\n  /* exported features */\n  \n  var features = {\n    bind : !!(function(){}.bind),\n    classList : 'classList' in document.documentElement,\n    rAF : !!(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame)\n  };\n  window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n  \n  /**\n   * Handles debouncing of events via requestAnimationFrame\n   * @see http://www.html5rocks.com/en/tutorials/speed/animations/\n   * @param {Function} callback The callback to handle whichever event\n   */\n  function Debouncer (callback) {\n    this.callback = callback;\n    this.ticking = false;\n  }\n  Debouncer.prototype = {\n    constructor : Debouncer,\n  \n    /**\n     * dispatches the event to the supplied callback\n     * @private\n     */\n    update : function() {\n      this.callback && this.callback();\n      this.ticking = false;\n    },\n  \n    /**\n     * ensures events don't get stacked\n     * @private\n     */\n    requestTick : function() {\n      if(!this.ticking) {\n        requestAnimationFrame(this.rafCallback || (this.rafCallback = this.update.bind(this)));\n        this.ticking = true;\n      }\n    },\n  \n    /**\n     * Attach this as the event listeners\n     */\n    handleEvent : function() {\n      this.requestTick();\n    }\n  };\n  /**\n   * Check if object is part of the DOM\n   * @constructor\n   * @param {Object} obj element to check\n   */\n  function isDOMElement(obj) {\n    return obj && typeof window !== 'undefined' && (obj === window || obj.nodeType);\n  }\n  \n  /**\n   * Helper function for extending objects\n   */\n  function extend (object /*, objectN ... */) {\n    if(arguments.length <= 0) {\n      throw new Error('Missing arguments in extend function');\n    }\n  \n    var result = object || {},\n        key,\n        i;\n  \n    for (i = 1; i < arguments.length; i++) {\n      var replacement = arguments[i] || {};\n  \n      for (key in replacement) {\n        // Recurse into object except if the object is a DOM element\n        if(typeof result[key] === 'object' && ! isDOMElement(result[key])) {\n          result[key] = extend(result[key], replacement[key]);\n        }\n        else {\n          result[key] = result[key] || replacement[key];\n        }\n      }\n    }\n  \n    return result;\n  }\n  \n  /**\n   * Helper function for normalizing tolerance option to object format\n   */\n  function normalizeTolerance (t) {\n    return t === Object(t) ? t : { down : t, up : t };\n  }\n  \n  /**\n   * UI enhancement for fixed headers.\n   * Hides header when scrolling down\n   * Shows header when scrolling up\n   * @constructor\n   * @param {DOMElement} elem the header element\n   * @param {Object} options options for the widget\n   */\n  function Headroom (elem, options) {\n    options = extend(options, Headroom.options);\n  \n    this.lastKnownScrollY = 0;\n    this.elem             = elem;\n    this.tolerance        = normalizeTolerance(options.tolerance);\n    this.classes          = options.classes;\n    this.offset           = options.offset;\n    this.scroller         = options.scroller;\n    this.initialised      = false;\n    this.onPin            = options.onPin;\n    this.onUnpin          = options.onUnpin;\n    this.onTop            = options.onTop;\n    this.onNotTop         = options.onNotTop;\n    this.onBottom         = options.onBottom;\n    this.onNotBottom      = options.onNotBottom;\n  }\n  Headroom.prototype = {\n    constructor : Headroom,\n  \n    /**\n     * Initialises the widget\n     */\n    init : function() {\n      if(!Headroom.cutsTheMustard) {\n        return;\n      }\n  \n      this.debouncer = new Debouncer(this.update.bind(this));\n      this.elem.classList.add(this.classes.initial);\n  \n      // defer event registration to handle browser\n      // potentially restoring previous scroll position\n      setTimeout(this.attachEvent.bind(this), 100);\n  \n      return this;\n    },\n  \n    /**\n     * Unattaches events and removes any classes that were added\n     */\n    destroy : function() {\n      var classes = this.classes;\n  \n      this.initialised = false;\n  \n      for (var key in classes) {\n        if(classes.hasOwnProperty(key)) {\n          this.elem.classList.remove(classes[key]);\n        }\n      }\n  \n      this.scroller.removeEventListener('scroll', this.debouncer, false);\n    },\n  \n    /**\n     * Attaches the scroll event\n     * @private\n     */\n    attachEvent : function() {\n      if(!this.initialised){\n        this.lastKnownScrollY = this.getScrollY();\n        this.initialised = true;\n        this.scroller.addEventListener('scroll', this.debouncer, false);\n  \n        this.debouncer.handleEvent();\n      }\n    },\n  \n    /**\n     * Unpins the header if it's currently pinned\n     */\n    unpin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(classList.contains(classes.pinned) || !classList.contains(classes.unpinned)) {\n        classList.add(classes.unpinned);\n        classList.remove(classes.pinned);\n        this.onUnpin && this.onUnpin.call(this);\n      }\n    },\n  \n    /**\n     * Pins the header if it's currently unpinned\n     */\n    pin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(classList.contains(classes.unpinned)) {\n        classList.remove(classes.unpinned);\n        classList.add(classes.pinned);\n        this.onPin && this.onPin.call(this);\n      }\n    },\n  \n    /**\n     * Handles the top states\n     */\n    top : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.top)) {\n        classList.add(classes.top);\n        classList.remove(classes.notTop);\n        this.onTop && this.onTop.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notTop : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.notTop)) {\n        classList.add(classes.notTop);\n        classList.remove(classes.top);\n        this.onNotTop && this.onNotTop.call(this);\n      }\n    },\n  \n    bottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.bottom)) {\n        classList.add(classes.bottom);\n        classList.remove(classes.notBottom);\n        this.onBottom && this.onBottom.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notBottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.notBottom)) {\n        classList.add(classes.notBottom);\n        classList.remove(classes.bottom);\n        this.onNotBottom && this.onNotBottom.call(this);\n      }\n    },\n  \n    /**\n     * Gets the Y scroll position\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY\n     * @return {Number} pixels the page has scrolled along the Y-axis\n     */\n    getScrollY : function() {\n      return (this.scroller.pageYOffset !== undefined)\n        ? this.scroller.pageYOffset\n        : (this.scroller.scrollTop !== undefined)\n          ? this.scroller.scrollTop\n          : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n    },\n  \n    /**\n     * Gets the height of the viewport\n     * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\n     * @return {int} the height of the viewport in pixels\n     */\n    getViewportHeight : function () {\n      return window.innerHeight\n        || document.documentElement.clientHeight\n        || document.body.clientHeight;\n    },\n  \n    /**\n     * Gets the physical height of the DOM element\n     * @param  {Object}  elm the element to calculate the physical height of which\n     * @return {int}     the physical height of the element in pixels\n     */\n    getElementPhysicalHeight : function (elm) {\n      return Math.max(\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the physical height of the scroller element\n     * @return {int} the physical height of the scroller element in pixels\n     */\n    getScrollerPhysicalHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getViewportHeight()\n        : this.getElementPhysicalHeight(this.scroller);\n    },\n  \n    /**\n     * Gets the height of the document\n     * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\n     * @return {int} the height of the document in pixels\n     */\n    getDocumentHeight : function () {\n      var body = document.body,\n        documentElement = document.documentElement;\n  \n      return Math.max(\n        body.scrollHeight, documentElement.scrollHeight,\n        body.offsetHeight, documentElement.offsetHeight,\n        body.clientHeight, documentElement.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the DOM element\n     * @param  {Object}  elm the element to calculate the height of which\n     * @return {int}     the height of the element in pixels\n     */\n    getElementHeight : function (elm) {\n      return Math.max(\n        elm.scrollHeight,\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the scroller element\n     * @return {int} the height of the scroller element in pixels\n     */\n    getScrollerHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getDocumentHeight()\n        : this.getElementHeight(this.scroller);\n    },\n  \n    /**\n     * determines if the scroll position is outside of document boundaries\n     * @param  {int}  currentScrollY the current y scroll position\n     * @return {bool} true if out of bounds, false otherwise\n     */\n    isOutOfBounds : function (currentScrollY) {\n      var pastTop  = currentScrollY < 0,\n        pastBottom = currentScrollY + this.getScrollerPhysicalHeight() > this.getScrollerHeight();\n  \n      return pastTop || pastBottom;\n    },\n  \n    /**\n     * determines if the tolerance has been exceeded\n     * @param  {int} currentScrollY the current scroll y position\n     * @return {bool} true if tolerance exceeded, false otherwise\n     */\n    toleranceExceeded : function (currentScrollY, direction) {\n      return Math.abs(currentScrollY-this.lastKnownScrollY) >= this.tolerance[direction];\n    },\n  \n    /**\n     * determine if it is appropriate to unpin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should unpin, false otherwise\n     */\n    shouldUnpin : function (currentScrollY, toleranceExceeded) {\n      var scrollingDown = currentScrollY > this.lastKnownScrollY,\n        pastOffset = currentScrollY >= this.offset;\n  \n      return scrollingDown && pastOffset && toleranceExceeded;\n    },\n  \n    /**\n     * determine if it is appropriate to pin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should pin, false otherwise\n     */\n    shouldPin : function (currentScrollY, toleranceExceeded) {\n      var scrollingUp  = currentScrollY < this.lastKnownScrollY,\n        pastOffset = currentScrollY <= this.offset;\n  \n      return (scrollingUp && toleranceExceeded) || pastOffset;\n    },\n  \n    /**\n     * Handles updating the state of the widget\n     */\n    update : function() {\n      var currentScrollY  = this.getScrollY(),\n        scrollDirection = currentScrollY > this.lastKnownScrollY ? 'down' : 'up',\n        toleranceExceeded = this.toleranceExceeded(currentScrollY, scrollDirection);\n  \n      if(this.isOutOfBounds(currentScrollY)) { // Ignore bouncy scrolling in OSX\n        return;\n      }\n  \n      if (currentScrollY <= this.offset ) {\n        this.top();\n      } else {\n        this.notTop();\n      }\n  \n      if(currentScrollY + this.getViewportHeight() >= this.getScrollerHeight()) {\n        this.bottom();\n      }\n      else {\n        this.notBottom();\n      }\n  \n      if(this.shouldUnpin(currentScrollY, toleranceExceeded)) {\n        this.unpin();\n      }\n      else if(this.shouldPin(currentScrollY, toleranceExceeded)) {\n        this.pin();\n      }\n  \n      this.lastKnownScrollY = currentScrollY;\n    }\n  };\n  /**\n   * Default options\n   * @type {Object}\n   */\n  Headroom.options = {\n    tolerance : {\n      up : 0,\n      down : 0\n    },\n    offset : 0,\n    scroller: window,\n    classes : {\n      pinned : 'headroom--pinned',\n      unpinned : 'headroom--unpinned',\n      top : 'headroom--top',\n      notTop : 'headroom--not-top',\n      bottom : 'headroom--bottom',\n      notBottom : 'headroom--not-bottom',\n      initial : 'headroom'\n    }\n  };\n  Headroom.cutsTheMustard = typeof features !== 'undefined' && features.rAF && features.bind && features.classList;\n\n  return Headroom;\n}));\n\n//# sourceURL=webpack:///./node_modules/headroom.js/dist/headroom.js?");

/***/ }),

/***/ "./node_modules/little-loader/lib/little-loader.js":
/*!*********************************************************!*\
  !*** ./node_modules/little-loader/lib/little-loader.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Script loading is difficult thanks to IE. We need callbacks to fire\n * immediately following the script's execution, with no other scripts\n * running in between. If other scripts on the page are able to run\n * between our script and its callback, bad things can happen, such as\n * `jQuery.noConflict` not being called in time, resulting in plugins\n * latching onto our version of jQuery, etc.\n *\n * For IE<10 we use a relatively well-documented \"preloading\" strategy,\n * which ensures that the script is ready to execute *before* appending\n * it to the DOM. That way when it is finally appended, it is\n * executed immediately.\n *\n * References:\n * - http://www.html5rocks.com/en/tutorials/speed/script-loading/\n * - http://blog.getify.com/ie11-please-bring-real-script-preloading-back/\n * - https://github.com/jrburke/requirejs/issues/526\n * - https://connect.microsoft.com/IE/feedback/details/729164/\n *           ie10-dynamic-script-element-fires-loaded-readystate-prematurely\n */\n(function () {\n\n  // Global state.\n  var pendingScripts = {};\n  var scriptCounter = 0;\n\n  /**\n   * Insert script into the DOM\n   *\n   * @param {Object} script Script DOM object\n   * @returns {void}\n   */\n  var _addScript = function (script) {\n    // Get the first script element, we're just going to use it\n    // as a reference for where to insert ours. Do NOT try to do\n    // this just once at the top and then re-use the same script\n    // as a reference later. Some weird loaders *remove* script\n    // elements after the browser has executed their contents,\n    // so the same reference might not have a parentNode later.\n    var firstScript = document.getElementsByTagName(\"script\")[0];\n\n    // Append the script to the DOM, triggering execution.\n    firstScript.parentNode.insertBefore(script, firstScript);\n  };\n\n  /**\n   * Load Script.\n   *\n   * @param {String}            src       URI of script\n   * @param {Function|Object}   callback  (Optional) Called on script load completion,\n   *                                      or options object\n   * @param {Object}            context   (Optional) Callback context (`this`)\n   * @returns {void}\n   */\n  var _lload = function (src, callback, context) {\n    /*eslint max-statements: [2, 32]*/\n    var setup;\n\n    if (callback && typeof callback !== \"function\") {\n      context = callback.context || context;\n      setup = callback.setup;\n      callback = callback.callback;\n    }\n\n    var script = document.createElement(\"script\");\n    var done = false;\n    var err;\n    var _cleanup; // _must_ be set below.\n\n    /**\n     * Final handler for error or completion.\n     *\n     * **Note**: Will only be called _once_.\n     *\n     * @returns {void}\n     */\n    var _finish = function () {\n      // Only call once.\n      if (done) { return; }\n      done = true;\n\n      // Internal cleanup.\n      _cleanup();\n\n      // Callback.\n      if (callback) {\n        callback.call(context, err);\n      }\n    };\n\n    /**\n     * Error handler\n     *\n     * @returns {void}\n     */\n    var _error = function () {\n      err = new Error(src || \"EMPTY\");\n      _finish();\n    };\n\n    if (script.readyState && !(\"async\" in script)) {\n      /*eslint-disable consistent-return*/\n\n      // This section is only for IE<10. Some other old browsers may\n      // satisfy the above condition and enter this branch, but we don't\n      // support those browsers anyway.\n\n      var id = scriptCounter++;\n      var isReady = { loaded: true, complete: true };\n      var inserted = false;\n\n      // Clear out listeners, state.\n      _cleanup = function () {\n        script.onreadystatechange = script.onerror = null;\n        pendingScripts[id] = void 0;\n      };\n\n      // Attach the handler before setting src, otherwise we might\n      // miss events (consider that IE could fire them synchronously\n      // upon setting src, for example).\n      script.onreadystatechange = function () {\n        var firstState = script.readyState;\n\n        // Protect against any errors from state change randomness.\n        if (err) { return; }\n\n        if (!inserted && isReady[firstState]) {\n          inserted = true;\n\n          // Append to DOM.\n          _addScript(script);\n        }\n\n        // --------------------------------------------------------------------\n        //                       GLORIOUS IE8 HACKAGE!!!\n        // --------------------------------------------------------------------\n        //\n        // Oh IE8, how you disappoint. IE8 won't call `script.onerror`, so\n        // we have to resort to drastic measures.\n        // See, e.g. http://www.quirksmode.org/dom/events/error.html#t02\n        //\n        // As with all things development, there's a Stack Overflow comment that\n        // asserts the following combinations of state changes in IE8 indicate a\n        // script load error. And crazily, it seems to work!\n        //\n        // http://stackoverflow.com/a/18840568/741892\n        //\n        // The `script.readyState` transitions we're interested are:\n        //\n        // * If state starts as `loaded`\n        // * Call `script.children`, which _should_ change state to `complete`\n        // * If state is now `loading`, then **we have a load error**\n        //\n        // For the reader's amusement, here is HeadJS's catalog of various\n        // `readyState` transitions in normal operation for IE:\n        // https://github.com/headjs/headjs/blob/master/src/2.0.0/load.js#L379-L419\n        if (firstState === \"loaded\") {\n          // The act of accessing the property should change the script's\n          // `readyState`.\n          //\n          // And, oh yeah, this hack is so hacky-ish we need the following\n          // eslint disable...\n          /*eslint-disable no-unused-expressions*/\n          script.children;\n          /*eslint-enable no-unused-expressions*/\n\n          if (script.readyState === \"loading\") {\n            // State transitions indicate we've hit the load error.\n            //\n            // **Note**: We are not intending to _return_ a value, just have\n            // a shorter short-circuit code path here.\n            return _error();\n          }\n        }\n\n        // It's possible for readyState to be \"complete\" immediately\n        // after we insert (and execute) the script in the branch\n        // above. So check readyState again here and react without\n        // waiting for another onreadystatechange.\n        if (script.readyState === \"complete\") {\n          _finish();\n        }\n      };\n\n      // Onerror handler _may_ work here.\n      script.onerror = _error;\n\n      // Since we're not appending the script to the DOM yet, the\n      // reference to our script element might get garbage collected\n      // when this function ends, without onreadystatechange ever being\n      // fired. This has been witnessed to happen. Adding it to\n      // `pendingScripts` ensures this can't happen.\n      pendingScripts[id] = script;\n\n      // call the setup callback to mutate the script tag\n      if (setup) {\n        setup.call(context, script);\n      }\n\n      // This triggers a request for the script, but its contents won't\n      // be executed until we append it to the DOM.\n      script.src = src;\n\n      // In some cases, the readyState is already \"loaded\" immediately\n      // after setting src. It's a lie! Don't append to the DOM until\n      // the onreadystatechange event says so.\n\n    } else {\n      // This section is for modern browsers, including IE10+.\n\n      // Clear out listeners.\n      _cleanup = function () {\n        script.onload = script.onerror = null;\n      };\n\n      script.onerror = _error;\n      script.onload = _finish;\n      script.async = true;\n      script.charset = \"utf-8\";\n\n      // call the setup callback to mutate the script tag\n      if (setup) {\n        setup.call(context, script);\n      }\n\n      script.src = src;\n\n      // Append to DOM.\n      _addScript(script);\n    }\n  };\n\n  // UMD wrapper.\n  /*global define:false*/\n  if (true) {\n    // CommonJS\n    module.exports = _lload;\n\n  } else {}\n}());\n\n\n//# sourceURL=webpack:///./node_modules/little-loader/lib/little-loader.js?");

/***/ }),

/***/ "./node_modules/lity/dist/lity.js":
/*!****************************************!*\
  !*** ./node_modules/lity/dist/lity.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! Lity - v2.3.1 - 2018-04-20\n* http://sorgalla.com/lity/\n* Copyright (c) 2015-2018 Jan Sorgalla; Licensed MIT */\n(function(window, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"jquery\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function($) {\n            return factory(window, $);\n        }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(typeof window !== \"undefined\" ? window : this, function(window, $) {\n    'use strict';\n\n    var document = window.document;\n\n    var _win = $(window);\n    var _deferred = $.Deferred;\n    var _html = $('html');\n    var _instances = [];\n\n    var _attrAriaHidden = 'aria-hidden';\n    var _dataAriaHidden = 'lity-' + _attrAriaHidden;\n\n    var _focusableElementsSelector = 'a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^=\"-\"])';\n\n    var _defaultOptions = {\n        esc: true,\n        handler: null,\n        handlers: {\n            image: imageHandler,\n            inline: inlineHandler,\n            youtube: youtubeHandler,\n            vimeo: vimeoHandler,\n            googlemaps: googlemapsHandler,\n            facebookvideo: facebookvideoHandler,\n            iframe: iframeHandler\n        },\n        template: '<div class=\"lity\" role=\"dialog\" aria-label=\"Dialog Window (Press escape to close)\" tabindex=\"-1\"><div class=\"lity-wrap\" data-lity-close role=\"document\"><div class=\"lity-loader\" aria-hidden=\"true\">Loading...</div><div class=\"lity-container\"><div class=\"lity-content\"></div><button class=\"lity-close\" type=\"button\" aria-label=\"Close (Press escape to close)\" data-lity-close>&times;</button></div></div></div>'\n    };\n\n    var _imageRegexp = /(^data:image\\/)|(\\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\\?\\S*)?$)/i;\n    var _youtubeRegex = /(youtube(-nocookie)?\\.com|youtu\\.be)\\/(watch\\?v=|v\\/|u\\/|embed\\/?)?([\\w-]{11})(.*)?/i;\n    var _vimeoRegex =  /(vimeo(pro)?.com)\\/(?:[^\\d]+)?(\\d+)\\??(.*)?$/;\n    var _googlemapsRegex = /((maps|www)\\.)?google\\.([^\\/\\?]+)\\/?((maps\\/?)?\\?)(.*)/i;\n    var _facebookvideoRegex = /(facebook\\.com)\\/([a-z0-9_-]*)\\/videos\\/([0-9]*)(.*)?$/i;\n\n    var _transitionEndEvent = (function() {\n        var el = document.createElement('div');\n\n        var transEndEventNames = {\n            WebkitTransition: 'webkitTransitionEnd',\n            MozTransition: 'transitionend',\n            OTransition: 'oTransitionEnd otransitionend',\n            transition: 'transitionend'\n        };\n\n        for (var name in transEndEventNames) {\n            if (el.style[name] !== undefined) {\n                return transEndEventNames[name];\n            }\n        }\n\n        return false;\n    })();\n\n    function transitionEnd(element) {\n        var deferred = _deferred();\n\n        if (!_transitionEndEvent || !element.length) {\n            deferred.resolve();\n        } else {\n            element.one(_transitionEndEvent, deferred.resolve);\n            setTimeout(deferred.resolve, 500);\n        }\n\n        return deferred.promise();\n    }\n\n    function settings(currSettings, key, value) {\n        if (arguments.length === 1) {\n            return $.extend({}, currSettings);\n        }\n\n        if (typeof key === 'string') {\n            if (typeof value === 'undefined') {\n                return typeof currSettings[key] === 'undefined'\n                    ? null\n                    : currSettings[key];\n            }\n\n            currSettings[key] = value;\n        } else {\n            $.extend(currSettings, key);\n        }\n\n        return this;\n    }\n\n    function parseQueryParams(params) {\n        var pairs = decodeURI(params.split('#')[0]).split('&');\n        var obj = {}, p;\n\n        for (var i = 0, n = pairs.length; i < n; i++) {\n            if (!pairs[i]) {\n                continue;\n            }\n\n            p = pairs[i].split('=');\n            obj[p[0]] = p[1];\n        }\n\n        return obj;\n    }\n\n    function appendQueryParams(url, params) {\n        return url + (url.indexOf('?') > -1 ? '&' : '?') + $.param(params);\n    }\n\n    function transferHash(originalUrl, newUrl) {\n        var pos = originalUrl.indexOf('#');\n\n        if (-1 === pos) {\n            return newUrl;\n        }\n\n        if (pos > 0) {\n            originalUrl = originalUrl.substr(pos);\n        }\n\n        return newUrl + originalUrl;\n    }\n\n    function error(msg) {\n        return $('<span class=\"lity-error\"/>').append(msg);\n    }\n\n    function imageHandler(target, instance) {\n        var desc = (instance.opener() && instance.opener().data('lity-desc')) || 'Image with no description';\n        var img = $('<img src=\"' + target + '\" alt=\"' + desc + '\"/>');\n        var deferred = _deferred();\n        var failed = function() {\n            deferred.reject(error('Failed loading image'));\n        };\n\n        img\n            .on('load', function() {\n                if (this.naturalWidth === 0) {\n                    return failed();\n                }\n\n                deferred.resolve(img);\n            })\n            .on('error', failed)\n        ;\n\n        return deferred.promise();\n    }\n\n    imageHandler.test = function(target) {\n        return _imageRegexp.test(target);\n    };\n\n    function inlineHandler(target, instance) {\n        var el, placeholder, hasHideClass;\n\n        try {\n            el = $(target);\n        } catch (e) {\n            return false;\n        }\n\n        if (!el.length) {\n            return false;\n        }\n\n        placeholder = $('<i style=\"display:none !important\"/>');\n        hasHideClass = el.hasClass('lity-hide');\n\n        instance\n            .element()\n            .one('lity:remove', function() {\n                placeholder\n                    .before(el)\n                    .remove()\n                ;\n\n                if (hasHideClass && !el.closest('.lity-content').length) {\n                    el.addClass('lity-hide');\n                }\n            })\n        ;\n\n        return el\n            .removeClass('lity-hide')\n            .after(placeholder)\n        ;\n    }\n\n    function youtubeHandler(target) {\n        var matches = _youtubeRegex.exec(target);\n\n        if (!matches) {\n            return false;\n        }\n\n        return iframeHandler(\n            transferHash(\n                target,\n                appendQueryParams(\n                    'https://www.youtube' + (matches[2] || '') + '.com/embed/' + matches[4],\n                    $.extend(\n                        {\n                            autoplay: 1\n                        },\n                        parseQueryParams(matches[5] || '')\n                    )\n                )\n            )\n        );\n    }\n\n    function vimeoHandler(target) {\n        var matches = _vimeoRegex.exec(target);\n\n        if (!matches) {\n            return false;\n        }\n\n        return iframeHandler(\n            transferHash(\n                target,\n                appendQueryParams(\n                    'https://player.vimeo.com/video/' + matches[3],\n                    $.extend(\n                        {\n                            autoplay: 1\n                        },\n                        parseQueryParams(matches[4] || '')\n                    )\n                )\n            )\n        );\n    }\n\n    function facebookvideoHandler(target) {\n        var matches = _facebookvideoRegex.exec(target);\n\n        if (!matches) {\n            return false;\n        }\n\n        if (0 !== target.indexOf('http')) {\n            target = 'https:' + target;\n        }\n\n        return iframeHandler(\n            transferHash(\n                target,\n                appendQueryParams(\n                    'https://www.facebook.com/plugins/video.php?href=' + target,\n                    $.extend(\n                        {\n                            autoplay: 1\n                        },\n                        parseQueryParams(matches[4] || '')\n                    )\n                )\n            )\n        );\n    }\n\n    function googlemapsHandler(target) {\n        var matches = _googlemapsRegex.exec(target);\n\n        if (!matches) {\n            return false;\n        }\n\n        return iframeHandler(\n            transferHash(\n                target,\n                appendQueryParams(\n                    'https://www.google.' + matches[3] + '/maps?' + matches[6],\n                    {\n                        output: matches[6].indexOf('layer=c') > 0 ? 'svembed' : 'embed'\n                    }\n                )\n            )\n        );\n    }\n\n    function iframeHandler(target) {\n        return '<div class=\"lity-iframe-container\"><iframe frameborder=\"0\" allowfullscreen src=\"' + target + '\"/></div>';\n    }\n\n    function winHeight() {\n        return document.documentElement.clientHeight\n            ? document.documentElement.clientHeight\n            : Math.round(_win.height());\n    }\n\n    function keydown(e) {\n        var current = currentInstance();\n\n        if (!current) {\n            return;\n        }\n\n        // ESC key\n        if (e.keyCode === 27 && !!current.options('esc')) {\n            current.close();\n        }\n\n        // TAB key\n        if (e.keyCode === 9) {\n            handleTabKey(e, current);\n        }\n    }\n\n    function handleTabKey(e, instance) {\n        var focusableElements = instance.element().find(_focusableElementsSelector);\n        var focusedIndex = focusableElements.index(document.activeElement);\n\n        if (e.shiftKey && focusedIndex <= 0) {\n            focusableElements.get(focusableElements.length - 1).focus();\n            e.preventDefault();\n        } else if (!e.shiftKey && focusedIndex === focusableElements.length - 1) {\n            focusableElements.get(0).focus();\n            e.preventDefault();\n        }\n    }\n\n    function resize() {\n        $.each(_instances, function(i, instance) {\n            instance.resize();\n        });\n    }\n\n    function registerInstance(instanceToRegister) {\n        if (1 === _instances.unshift(instanceToRegister)) {\n            _html.addClass('lity-active');\n\n            _win\n                .on({\n                    resize: resize,\n                    keydown: keydown\n                })\n            ;\n        }\n\n        $('body > *').not(instanceToRegister.element())\n            .addClass('lity-hidden')\n            .each(function() {\n                var el = $(this);\n\n                if (undefined !== el.data(_dataAriaHidden)) {\n                    return;\n                }\n\n                el.data(_dataAriaHidden, el.attr(_attrAriaHidden) || null);\n            })\n            .attr(_attrAriaHidden, 'true')\n        ;\n    }\n\n    function removeInstance(instanceToRemove) {\n        var show;\n\n        instanceToRemove\n            .element()\n            .attr(_attrAriaHidden, 'true')\n        ;\n\n        if (1 === _instances.length) {\n            _html.removeClass('lity-active');\n\n            _win\n                .off({\n                    resize: resize,\n                    keydown: keydown\n                })\n            ;\n        }\n\n        _instances = $.grep(_instances, function(instance) {\n            return instanceToRemove !== instance;\n        });\n\n        if (!!_instances.length) {\n            show = _instances[0].element();\n        } else {\n            show = $('.lity-hidden');\n        }\n\n        show\n            .removeClass('lity-hidden')\n            .each(function() {\n                var el = $(this), oldAttr = el.data(_dataAriaHidden);\n\n                if (!oldAttr) {\n                    el.removeAttr(_attrAriaHidden);\n                } else {\n                    el.attr(_attrAriaHidden, oldAttr);\n                }\n\n                el.removeData(_dataAriaHidden);\n            })\n        ;\n    }\n\n    function currentInstance() {\n        if (0 === _instances.length) {\n            return null;\n        }\n\n        return _instances[0];\n    }\n\n    function factory(target, instance, handlers, preferredHandler) {\n        var handler = 'inline', content;\n\n        var currentHandlers = $.extend({}, handlers);\n\n        if (preferredHandler && currentHandlers[preferredHandler]) {\n            content = currentHandlers[preferredHandler](target, instance);\n            handler = preferredHandler;\n        } else {\n            // Run inline and iframe handlers after all other handlers\n            $.each(['inline', 'iframe'], function(i, name) {\n                delete currentHandlers[name];\n\n                currentHandlers[name] = handlers[name];\n            });\n\n            $.each(currentHandlers, function(name, currentHandler) {\n                // Handler might be \"removed\" by setting callback to null\n                if (!currentHandler) {\n                    return true;\n                }\n\n                if (\n                    currentHandler.test &&\n                    !currentHandler.test(target, instance)\n                ) {\n                    return true;\n                }\n\n                content = currentHandler(target, instance);\n\n                if (false !== content) {\n                    handler = name;\n                    return false;\n                }\n            });\n        }\n\n        return {handler: handler, content: content || ''};\n    }\n\n    function Lity(target, options, opener, activeElement) {\n        var self = this;\n        var result;\n        var isReady = false;\n        var isClosed = false;\n        var element;\n        var content;\n\n        options = $.extend(\n            {},\n            _defaultOptions,\n            options\n        );\n\n        element = $(options.template);\n\n        // -- API --\n\n        self.element = function() {\n            return element;\n        };\n\n        self.opener = function() {\n            return opener;\n        };\n\n        self.options  = $.proxy(settings, self, options);\n        self.handlers = $.proxy(settings, self, options.handlers);\n\n        self.resize = function() {\n            if (!isReady || isClosed) {\n                return;\n            }\n\n            content\n                .css('max-height', winHeight() + 'px')\n                .trigger('lity:resize', [self])\n            ;\n        };\n\n        self.close = function() {\n            if (!isReady || isClosed) {\n                return;\n            }\n\n            isClosed = true;\n\n            removeInstance(self);\n\n            var deferred = _deferred();\n\n            // We return focus only if the current focus is inside this instance\n            if (\n                activeElement &&\n                (\n                    document.activeElement === element[0] ||\n                    $.contains(element[0], document.activeElement)\n                )\n            ) {\n                try {\n                    activeElement.focus();\n                } catch (e) {\n                    // Ignore exceptions, eg. for SVG elements which can't be\n                    // focused in IE11\n                }\n            }\n\n            content.trigger('lity:close', [self]);\n\n            element\n                .removeClass('lity-opened')\n                .addClass('lity-closed')\n            ;\n\n            transitionEnd(content.add(element))\n                .always(function() {\n                    content.trigger('lity:remove', [self]);\n                    element.remove();\n                    element = undefined;\n                    deferred.resolve();\n                })\n            ;\n\n            return deferred.promise();\n        };\n\n        // -- Initialization --\n\n        result = factory(target, self, options.handlers, options.handler);\n\n        element\n            .attr(_attrAriaHidden, 'false')\n            .addClass('lity-loading lity-opened lity-' + result.handler)\n            .appendTo('body')\n            .focus()\n            .on('click', '[data-lity-close]', function(e) {\n                if ($(e.target).is('[data-lity-close]')) {\n                    self.close();\n                }\n            })\n            .trigger('lity:open', [self])\n        ;\n\n        registerInstance(self);\n\n        $.when(result.content)\n            .always(ready)\n        ;\n\n        function ready(result) {\n            content = $(result)\n                .css('max-height', winHeight() + 'px')\n            ;\n\n            element\n                .find('.lity-loader')\n                .each(function() {\n                    var loader = $(this);\n\n                    transitionEnd(loader)\n                        .always(function() {\n                            loader.remove();\n                        })\n                    ;\n                })\n            ;\n\n            element\n                .removeClass('lity-loading')\n                .find('.lity-content')\n                .empty()\n                .append(content)\n            ;\n\n            isReady = true;\n\n            content\n                .trigger('lity:ready', [self])\n            ;\n        }\n    }\n\n    function lity(target, options, opener) {\n        if (!target.preventDefault) {\n            opener = $(opener);\n        } else {\n            target.preventDefault();\n            opener = $(this);\n            target = opener.data('lity-target') || opener.attr('href') || opener.attr('src');\n        }\n\n        var instance = new Lity(\n            target,\n            $.extend(\n                {},\n                opener.data('lity-options') || opener.data('lity'),\n                options\n            ),\n            opener,\n            document.activeElement\n        );\n\n        if (!target.preventDefault) {\n            return instance;\n        }\n    }\n\n    lity.version  = '2.3.1';\n    lity.options  = $.proxy(settings, lity, _defaultOptions);\n    lity.handlers = $.proxy(settings, lity, _defaultOptions.handlers);\n    lity.current  = currentInstance;\n\n    $(document).on('click.lity', '[data-lity]', lity);\n\n    return lity;\n}));\n\n\n//# sourceURL=webpack:///./node_modules/lity/dist/lity.js?");

/***/ }),

/***/ "./node_modules/picturefill/dist/picturefill.js":
/*!******************************************************!*\
  !*** ./node_modules/picturefill/dist/picturefill.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function(window) {\n\t/*jshint eqnull:true */\n\tvar ua = navigator.userAgent;\n\n\tif ( window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45) ) {\n\t\taddEventListener(\"resize\", (function() {\n\t\t\tvar timer;\n\n\t\t\tvar dummySrc = document.createElement(\"source\");\n\n\t\t\tvar fixRespimg = function(img) {\n\t\t\t\tvar source, sizes;\n\t\t\t\tvar picture = img.parentNode;\n\n\t\t\t\tif (picture.nodeName.toUpperCase() === \"PICTURE\") {\n\t\t\t\t\tsource = dummySrc.cloneNode();\n\n\t\t\t\t\tpicture.insertBefore(source, picture.firstElementChild);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpicture.removeChild(source);\n\t\t\t\t\t});\n\t\t\t\t} else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n\t\t\t\t\timg._pfLastSize = img.offsetWidth;\n\t\t\t\t\tsizes = img.sizes;\n\t\t\t\t\timg.sizes += \",100vw\";\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.sizes = sizes;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar findPictureImgs = function() {\n\t\t\t\tvar i;\n\t\t\t\tvar imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n\t\t\t\tfor (i = 0; i < imgs.length; i++) {\n\t\t\t\t\tfixRespimg(imgs[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar onResize = function() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(findPictureImgs, 99);\n\t\t\t};\n\t\t\tvar mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n\t\t\tvar init = function() {\n\t\t\t\tonResize();\n\n\t\t\t\tif (mq && mq.addListener) {\n\t\t\t\t\tmq.addListener(onResize);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n\t\t\tif (/^[c|i]|d$/.test(document.readyState || \"\")) {\n\t\t\t\tinit();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t\t\t}\n\n\t\t\treturn onResize;\n\t\t})());\n\t}\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function( window, document, undefined ) {\n\t// Enable strict mode\n\t\"use strict\";\n\n\t// HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n\tdocument.createElement( \"picture\" );\n\n\tvar warn, eminpx, alwaysCheckWDescriptor, evalId;\n\t// local object for method references and testing exposure\n\tvar pf = {};\n\tvar isSupportTestReady = false;\n\tvar noop = function() {};\n\tvar image = document.createElement( \"img\" );\n\tvar getImgAttr = image.getAttribute;\n\tvar setImgAttr = image.setAttribute;\n\tvar removeImgAttr = image.removeAttribute;\n\tvar docElem = document.documentElement;\n\tvar types = {};\n\tvar cfg = {\n\t\t//resource selection:\n\t\talgorithm: \"\"\n\t};\n\tvar srcAttr = \"data-pfsrc\";\n\tvar srcsetAttr = srcAttr + \"set\";\n\t// ua sniffing is done for undetectable img loading features,\n\t// to do some non crucial perf optimizations\n\tvar ua = navigator.userAgent;\n\tvar supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35 );\n\tvar curSrcProp = \"currentSrc\";\n\tvar regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n\tvar regSize = /(\\([^)]+\\))?\\s*(.+)/;\n\tvar setOptions = window.picturefillCFG;\n\t/**\n\t * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n\t */\n\t// baseStyle also used by getEmValue (i.e.: width: 1em is important)\n\tvar baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n\tvar fsCss = \"font-size:100%!important;\";\n\tvar isVwDirty = true;\n\n\tvar cssCache = {};\n\tvar sizeLengthCache = {};\n\tvar DPR = window.devicePixelRatio;\n\tvar units = {\n\t\tpx: 1,\n\t\t\"in\": 96\n\t};\n\tvar anchor = document.createElement( \"a\" );\n\t/**\n\t * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n\t * @type {boolean}\n\t */\n\tvar alreadyRun = false;\n\n\t// Reusable, non-\"g\" Regexes\n\n\t// (Don't use \\s, to avoid matching non-breaking space.)\n\tvar regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n\t    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n\t    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n\t    regexTrailingCommas = /[,]+$/,\n\t    regexNonNegativeInteger = /^\\d+$/,\n\n\t    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n\t    // Must include at least one digit.\n\t    // According to spec tests any decimal point must be followed by a digit.\n\t    // No leading plus sign is allowed.)\n\t    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n\t    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n\tvar on = function(obj, evt, fn, capture) {\n\t\tif ( obj.addEventListener ) {\n\t\t\tobj.addEventListener(evt, fn, capture || false);\n\t\t} else if ( obj.attachEvent ) {\n\t\t\tobj.attachEvent( \"on\" + evt, fn);\n\t\t}\n\t};\n\n\t/**\n\t * simple memoize function:\n\t */\n\n\tvar memoize = function(fn) {\n\t\tvar cache = {};\n\t\treturn function(input) {\n\t\t\tif ( !(input in cache) ) {\n\t\t\t\tcache[ input ] = fn(input);\n\t\t\t}\n\t\t\treturn cache[ input ];\n\t\t};\n\t};\n\n\t// UTILITY FUNCTIONS\n\n\t// Manual is faster than RegEx\n\t// http://jsperf.com/whitespace-character/5\n\tfunction isSpace(c) {\n\t\treturn (c === \"\\u0020\" || // space\n\t\t        c === \"\\u0009\" || // horizontal tab\n\t\t        c === \"\\u000A\" || // new line\n\t\t        c === \"\\u000C\" || // form feed\n\t\t        c === \"\\u000D\");  // carriage return\n\t}\n\n\t/**\n\t * gets a mediaquery and returns a boolean or gets a css length and returns a number\n\t * @param css mediaqueries or css length\n\t * @returns {boolean|number}\n\t *\n\t * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n\t */\n\tvar evalCSS = (function() {\n\n\t\tvar regLength = /^([\\d\\.]+)(em|vw|px)$/;\n\t\tvar replace = function() {\n\t\t\tvar args = arguments, index = 0, string = args[0];\n\t\t\twhile (++index in args) {\n\t\t\t\tstring = string.replace(args[index], args[++index]);\n\t\t\t}\n\t\t\treturn string;\n\t\t};\n\n\t\tvar buildStr = memoize(function(css) {\n\n\t\t\treturn \"return \" + replace((css || \"\").toLowerCase(),\n\t\t\t\t// interpret `and`\n\t\t\t\t/\\band\\b/g, \"&&\",\n\n\t\t\t\t// interpret `,`\n\t\t\t\t/,/g, \"||\",\n\n\t\t\t\t// interpret `min-` as >=\n\t\t\t\t/min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n\t\t\t\t// interpret `max-` as <=\n\t\t\t\t/max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n\t\t\t\t//calc value\n\t\t\t\t/calc([^)]+)/g, \"($1)\",\n\n\t\t\t\t// interpret css values\n\t\t\t\t/(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n\t\t\t\t//make eval less evil\n\t\t\t\t/^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n\t\t\t) + \";\";\n\t\t});\n\n\t\treturn function(css, length) {\n\t\t\tvar parsedLength;\n\t\t\tif (!(css in cssCache)) {\n\t\t\t\tcssCache[css] = false;\n\t\t\t\tif (length && (parsedLength = css.match( regLength ))) {\n\t\t\t\t\tcssCache[css] = parsedLength[ 1 ] * units[parsedLength[ 2 ]];\n\t\t\t\t} else {\n\t\t\t\t\t/*jshint evil:true */\n\t\t\t\t\ttry{\n\t\t\t\t\t\tcssCache[css] = new Function(\"e\", buildStr(css))(units);\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t/*jshint evil:false */\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cssCache[css];\n\t\t};\n\t})();\n\n\tvar setResolution = function( candidate, sizesattr ) {\n\t\tif ( candidate.w ) { // h = means height: || descriptor.type === 'h' do not handle yet...\n\t\t\tcandidate.cWidth = pf.calcListLength( sizesattr || \"100vw\" );\n\t\t\tcandidate.res = candidate.w / candidate.cWidth ;\n\t\t} else {\n\t\t\tcandidate.res = candidate.d;\n\t\t}\n\t\treturn candidate;\n\t};\n\n\t/**\n\t *\n\t * @param opt\n\t */\n\tvar picturefill = function( opt ) {\n\n\t\tif (!isSupportTestReady) {return;}\n\n\t\tvar elements, i, plen;\n\n\t\tvar options = opt || {};\n\n\t\tif ( options.elements && options.elements.nodeType === 1 ) {\n\t\t\tif ( options.elements.nodeName.toUpperCase() === \"IMG\" ) {\n\t\t\t\toptions.elements =  [ options.elements ];\n\t\t\t} else {\n\t\t\t\toptions.context = options.elements;\n\t\t\t\toptions.elements =  null;\n\t\t\t}\n\t\t}\n\n\t\telements = options.elements || pf.qsa( (options.context || document), ( options.reevaluate || options.reselect ) ? pf.sel : pf.selShort );\n\n\t\tif ( (plen = elements.length) ) {\n\n\t\t\tpf.setupRun( options );\n\t\t\talreadyRun = true;\n\n\t\t\t// Loop through all elements\n\t\t\tfor ( i = 0; i < plen; i++ ) {\n\t\t\t\tpf.fillImg(elements[ i ], options);\n\t\t\t}\n\n\t\t\tpf.teardownRun( options );\n\t\t}\n\t};\n\n\t/**\n\t * outputs a warning for the developer\n\t * @param {message}\n\t * @type {Function}\n\t */\n\twarn = ( window.console && console.warn ) ?\n\t\tfunction( message ) {\n\t\t\tconsole.warn( message );\n\t\t} :\n\t\tnoop\n\t;\n\n\tif ( !(curSrcProp in image) ) {\n\t\tcurSrcProp = \"src\";\n\t}\n\n\t// Add support for standard mime types.\n\ttypes[ \"image/jpeg\" ] = true;\n\ttypes[ \"image/gif\" ] = true;\n\ttypes[ \"image/png\" ] = true;\n\n\tfunction detectTypeSupport( type, typeUri ) {\n\t\t// based on Modernizr's lossless img-webp test\n\t\t// note: asynchronous\n\t\tvar image = new window.Image();\n\t\timage.onerror = function() {\n\t\t\ttypes[ type ] = false;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.onload = function() {\n\t\t\ttypes[ type ] = image.width === 1;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.src = typeUri;\n\t\treturn \"pending\";\n\t}\n\n\t// test svg support\n\ttypes[ \"image/svg+xml\" ] = document.implementation.hasFeature( \"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\" );\n\n\t/**\n\t * updates the internal vW property with the current viewport width in px\n\t */\n\tfunction updateMetrics() {\n\n\t\tisVwDirty = false;\n\t\tDPR = window.devicePixelRatio;\n\t\tcssCache = {};\n\t\tsizeLengthCache = {};\n\n\t\tpf.DPR = DPR || 1;\n\n\t\tunits.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n\t\tunits.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n\t\tunits.vw = units.width / 100;\n\t\tunits.vh = units.height / 100;\n\n\t\tevalId = [ units.height, units.width, DPR ].join(\"-\");\n\n\t\tunits.em = pf.getEmValue();\n\t\tunits.rem = units.em;\n\t}\n\n\tfunction chooseLowRes( lowerValue, higherValue, dprValue, isCached ) {\n\t\tvar bonusFactor, tooMuch, bonus, meanDensity;\n\n\t\t//experimental\n\t\tif (cfg.algorithm === \"saveData\" ){\n\t\t\tif ( lowerValue > 2.7 ) {\n\t\t\t\tmeanDensity = dprValue + 1;\n\t\t\t} else {\n\t\t\t\ttooMuch = higherValue - dprValue;\n\t\t\t\tbonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n\t\t\t\tbonus = tooMuch * bonusFactor;\n\n\t\t\t\tif (isCached) {\n\t\t\t\t\tbonus += 0.1 * bonusFactor;\n\t\t\t\t}\n\n\t\t\t\tmeanDensity = lowerValue + bonus;\n\t\t\t}\n\t\t} else {\n\t\t\tmeanDensity = (dprValue > 1) ?\n\t\t\t\tMath.sqrt(lowerValue * higherValue) :\n\t\t\t\tlowerValue;\n\t\t}\n\n\t\treturn meanDensity > dprValue;\n\t}\n\n\tfunction applyBestCandidate( img ) {\n\t\tvar srcSetCandidates;\n\t\tvar matchingSet = pf.getSet( img );\n\t\tvar evaluated = false;\n\t\tif ( matchingSet !== \"pending\" ) {\n\t\t\tevaluated = evalId;\n\t\t\tif ( matchingSet ) {\n\t\t\t\tsrcSetCandidates = pf.setRes( matchingSet );\n\t\t\t\tpf.applySetCandidate( srcSetCandidates, img );\n\t\t\t}\n\t\t}\n\t\timg[ pf.ns ].evaled = evaluated;\n\t}\n\n\tfunction ascendingSort( a, b ) {\n\t\treturn a.res - b.res;\n\t}\n\n\tfunction setSrcToCur( img, src, set ) {\n\t\tvar candidate;\n\t\tif ( !set && src ) {\n\t\t\tset = img[ pf.ns ].sets;\n\t\t\tset = set && set[set.length - 1];\n\t\t}\n\n\t\tcandidate = getCandidateForSrc(src, set);\n\n\t\tif ( candidate ) {\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\timg[ pf.ns ].curSrc = src;\n\t\t\timg[ pf.ns ].curCan = candidate;\n\n\t\t\tif ( !candidate.res ) {\n\t\t\t\tsetResolution( candidate, candidate.set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getCandidateForSrc( src, set ) {\n\t\tvar i, candidate, candidates;\n\t\tif ( src && set ) {\n\t\t\tcandidates = pf.parseSet( set );\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\tfor ( i = 0; i < candidates.length; i++ ) {\n\t\t\t\tif ( src === pf.makeUrl(candidates[ i ].url) ) {\n\t\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getAllSourceElements( picture, candidates ) {\n\t\tvar i, len, source, srcset;\n\n\t\t// SPEC mismatch intended for size and perf:\n\t\t// actually only source elements preceding the img should be used\n\t\t// also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n\t\tvar sources = picture.getElementsByTagName( \"source\" );\n\n\t\tfor ( i = 0, len = sources.length; i < len; i++ ) {\n\t\t\tsource = sources[ i ];\n\t\t\tsource[ pf.ns ] = true;\n\t\t\tsrcset = source.getAttribute( \"srcset\" );\n\n\t\t\t// if source does not have a srcset attribute, skip\n\t\t\tif ( srcset ) {\n\t\t\t\tcandidates.push( {\n\t\t\t\t\tsrcset: srcset,\n\t\t\t\t\tmedia: source.getAttribute( \"media\" ),\n\t\t\t\t\ttype: source.getAttribute( \"type\" ),\n\t\t\t\t\tsizes: source.getAttribute( \"sizes\" )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Srcset Parser\n\t * By Alex Bell |  MIT License\n\t *\n\t * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n\t *\n\t * Based super duper closely on the reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n\t */\n\n\t// 1. Let input be the value passed to this algorithm.\n\t// (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n\t// descriptive & more searchable name.  Since passing the \"set\" in really has\n\t// nothing to do with parsing proper, I would prefer this assignment eventually\n\t// go in an external fn.)\n\tfunction parseSrcset(input, set) {\n\n\t\tfunction collectCharacters(regEx) {\n\t\t\tvar chars,\n\t\t\t    match = regEx.exec(input.substring(pos));\n\t\t\tif (match) {\n\t\t\t\tchars = match[ 0 ];\n\t\t\t\tpos += chars.length;\n\t\t\t\treturn chars;\n\t\t\t}\n\t\t}\n\n\t\tvar inputLength = input.length,\n\t\t    url,\n\t\t    descriptors,\n\t\t    currentDescriptor,\n\t\t    state,\n\t\t    c,\n\n\t\t    // 2. Let position be a pointer into input, initially pointing at the start\n\t\t    //    of the string.\n\t\t    pos = 0,\n\n\t\t    // 3. Let candidates be an initially empty source set.\n\t\t    candidates = [];\n\n\t\t/**\n\t\t* Adds descriptor properties to a candidate, pushes to the candidates array\n\t\t* @return undefined\n\t\t*/\n\t\t// (Declared outside of the while loop so that it's only created once.\n\t\t// (This fn is defined before it is used, in order to pass JSHINT.\n\t\t// Unfortunately this breaks the sequencing of the spec comments. :/ )\n\t\tfunction parseDescriptors() {\n\n\t\t\t// 9. Descriptor parser: Let error be no.\n\t\t\tvar pError = false,\n\n\t\t\t// 10. Let width be absent.\n\t\t\t// 11. Let density be absent.\n\t\t\t// 12. Let future-compat-h be absent. (We're implementing it now as h)\n\t\t\t    w, d, h, i,\n\t\t\t    candidate = {},\n\t\t\t    desc, lastChar, value, intVal, floatVal;\n\n\t\t\t// 13. For each descriptor in descriptors, run the appropriate set of steps\n\t\t\t// from the following list:\n\t\t\tfor (i = 0 ; i < descriptors.length; i++) {\n\t\t\t\tdesc = descriptors[ i ];\n\n\t\t\t\tlastChar = desc[ desc.length - 1 ];\n\t\t\t\tvalue = desc.substring(0, desc.length - 1);\n\t\t\t\tintVal = parseInt(value, 10);\n\t\t\t\tfloatVal = parseFloat(value);\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0077 LATIN SMALL LETTER W character\n\t\t\t\tif (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n\t\t\t\t\t// If width and density are not both absent, then let error be yes.\n\t\t\t\t\tif (w || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes.\n\t\t\t\t\t// Otherwise, let width be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {w = intVal;}\n\n\t\t\t\t// If the descriptor consists of a valid floating-point number followed by\n\t\t\t\t// a U+0078 LATIN SMALL LETTER X character\n\t\t\t\t} else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n\t\t\t\t\t// If width, density and future-compat-h are not all absent, then let error\n\t\t\t\t\t// be yes.\n\t\t\t\t\tif (w || d || h) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing floating-point number values to the descriptor.\n\t\t\t\t\t// If the result is less than zero, let error be yes. Otherwise, let density\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (floatVal < 0) {pError = true;} else {d = floatVal;}\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0068 LATIN SMALL LETTER H character\n\t\t\t\t} else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n\t\t\t\t\t// If height and density are not both absent, then let error be yes.\n\t\t\t\t\tif (h || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes. Otherwise, let future-compat-h\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {h = intVal;}\n\n\t\t\t\t// Anything else, Let error be yes.\n\t\t\t\t} else {pError = true;}\n\t\t\t} // (close step 13 for loop)\n\n\t\t\t// 15. If error is still no, then append a new image source to candidates whose\n\t\t\t// URL is url, associated with a width width if not absent and a pixel\n\t\t\t// density density if not absent. Otherwise, there is a parse error.\n\t\t\tif (!pError) {\n\t\t\t\tcandidate.url = url;\n\n\t\t\t\tif (w) { candidate.w = w;}\n\t\t\t\tif (d) { candidate.d = d;}\n\t\t\t\tif (h) { candidate.h = h;}\n\t\t\t\tif (!h && !d && !w) {candidate.d = 1;}\n\t\t\t\tif (candidate.d === 1) {set.has1x = true;}\n\t\t\t\tcandidate.set = set;\n\n\t\t\t\tcandidates.push(candidate);\n\t\t\t}\n\t\t} // (close parseDescriptors fn)\n\n\t\t/**\n\t\t* Tokenizes descriptor properties prior to parsing\n\t\t* Returns undefined.\n\t\t* (Again, this fn is defined before it is used, in order to pass JSHINT.\n\t\t* Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n\t\t*/\n\t\tfunction tokenize() {\n\n\t\t\t// 8.1. Descriptor tokeniser: Skip whitespace\n\t\t\tcollectCharacters(regexLeadingSpaces);\n\n\t\t\t// 8.2. Let current descriptor be the empty string.\n\t\t\tcurrentDescriptor = \"\";\n\n\t\t\t// 8.3. Let state be in descriptor.\n\t\t\tstate = \"in descriptor\";\n\n\t\t\twhile (true) {\n\n\t\t\t\t// 8.4. Let c be the character at position.\n\t\t\t\tc = input.charAt(pos);\n\n\t\t\t\t//  Do the following depending on the value of state.\n\t\t\t\t//  For the purpose of this step, \"EOF\" is a special character representing\n\t\t\t\t//  that position is past the end of input.\n\n\t\t\t\t// In descriptor\n\t\t\t\tif (state === \"in descriptor\") {\n\t\t\t\t\t// Do the following, depending on the value of c:\n\n\t\t\t\t  // Space character\n\t\t\t\t  // If current descriptor is not empty, append current descriptor to\n\t\t\t\t  // descriptors and let current descriptor be the empty string.\n\t\t\t\t  // Set state to after descriptor.\n\t\t\t\t\tif (isSpace(c)) {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t\tcurrentDescriptor = \"\";\n\t\t\t\t\t\t\tstate = \"after descriptor\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// U+002C COMMA (,)\n\t\t\t\t\t// Advance position to the next character in input. If current descriptor\n\t\t\t\t\t// is not empty, append current descriptor to descriptors. Jump to the step\n\t\t\t\t\t// labeled descriptor parser.\n\t\t\t\t\t} else if (c === \",\") {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// U+0028 LEFT PARENTHESIS (()\n\t\t\t\t\t// Append c to current descriptor. Set state to in parens.\n\t\t\t\t\t} else if (c === \"\\u0028\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in parens\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// If current descriptor is not empty, append current descriptor to\n\t\t\t\t\t// descriptors. Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\t\t\t\t// (end \"in descriptor\"\n\n\t\t\t\t// In parens\n\t\t\t\t} else if (state === \"in parens\") {\n\n\t\t\t\t\t// U+0029 RIGHT PARENTHESIS ())\n\t\t\t\t\t// Append c to current descriptor. Set state to in descriptor.\n\t\t\t\t\tif (c === \")\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in descriptor\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// Append current descriptor to descriptors. Jump to the step labeled\n\t\t\t\t\t// descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\n\t\t\t\t// After descriptor\n\t\t\t\t} else if (state === \"after descriptor\") {\n\n\t\t\t\t\t// Do the following, depending on the value of c:\n\t\t\t\t\t// Space character: Stay in this state.\n\t\t\t\t\tif (isSpace(c)) {\n\n\t\t\t\t\t// EOF: Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Set state to in descriptor. Set position to the previous character in input.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"in descriptor\";\n\t\t\t\t\t\tpos -= 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Advance position to the next character in input.\n\t\t\t\tpos += 1;\n\n\t\t\t// Repeat this step.\n\t\t\t} // (close while true loop)\n\t\t}\n\n\t\t// 4. Splitting loop: Collect a sequence of characters that are space\n\t\t//    characters or U+002C COMMA characters. If any U+002C COMMA characters\n\t\t//    were collected, that is a parse error.\n\t\twhile (true) {\n\t\t\tcollectCharacters(regexLeadingCommasOrSpaces);\n\n\t\t\t// 5. If position is past the end of input, return candidates and abort these steps.\n\t\t\tif (pos >= inputLength) {\n\t\t\t\treturn candidates; // (we're done, this is the sole return path)\n\t\t\t}\n\n\t\t\t// 6. Collect a sequence of characters that are not space characters,\n\t\t\t//    and let that be url.\n\t\t\turl = collectCharacters(regexLeadingNotSpaces);\n\n\t\t\t// 7. Let descriptors be a new empty list.\n\t\t\tdescriptors = [];\n\n\t\t\t// 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n\t\t\t//\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n\t\t\t//         more than one character, that is a parse error.\n\t\t\tif (url.slice(-1) === \",\") {\n\t\t\t\turl = url.replace(regexTrailingCommas, \"\");\n\t\t\t\t// (Jump ahead to step 9 to skip tokenization and just push the candidate).\n\t\t\t\tparseDescriptors();\n\n\t\t\t//\tOtherwise, follow these substeps:\n\t\t\t} else {\n\t\t\t\ttokenize();\n\t\t\t} // (close else of step 8)\n\n\t\t// 16. Return to the step labeled splitting loop.\n\t\t} // (Close of big while loop.)\n\t}\n\n\t/*\n\t * Sizes Parser\n\t *\n\t * By Alex Bell |  MIT License\n\t *\n\t * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n\t *\n\t * Reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n\t *\n\t * Most comments are copied in directly from the spec\n\t * (except for comments in parens).\n\t *\n\t * Grammar is:\n\t * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n\t * <source-size> = <media-condition> <source-size-value>\n\t * <source-size-value> = <length>\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n\t *\n\t * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n\t * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n\t *\n\t * Returns the first valid <css-length> with a media condition that evaluates to true,\n\t * or \"100vw\" if all valid media conditions evaluate to false.\n\t *\n\t */\n\n\tfunction parseSizes(strValue) {\n\n\t\t// (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n\t\t// https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n\t\t// CSS allows a single optional plus or minus sign:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#numbers\n\t\t// CSS is ASCII case-insensitive:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#characters )\n\t\t// Spec allows exponential notation for <number> type:\n\t\t// http://dev.w3.org/csswg/css-values/#numbers\n\t\tvar regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n\t\t// (This is a quick and lenient test. Because of optional unlimited-depth internal\n\t\t// grouping parens and strict spacing rules, this could get very complicated.)\n\t\tvar regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n\t\tvar i;\n\t\tvar unparsedSizesList;\n\t\tvar unparsedSizesListLength;\n\t\tvar unparsedSize;\n\t\tvar lastComponentValue;\n\t\tvar size;\n\n\t\t// UTILITY FUNCTIONS\n\n\t\t//  (Toy CSS parser. The goals here are:\n\t\t//  1) expansive test coverage without the weight of a full CSS parser.\n\t\t//  2) Avoiding regex wherever convenient.\n\t\t//  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n\t\t//  Returns an array of arrays.)\n\t\tfunction parseComponentValues(str) {\n\t\t\tvar chrctr;\n\t\t\tvar component = \"\";\n\t\t\tvar componentArray = [];\n\t\t\tvar listArray = [];\n\t\t\tvar parenDepth = 0;\n\t\t\tvar pos = 0;\n\t\t\tvar inComment = false;\n\n\t\t\tfunction pushComponent() {\n\t\t\t\tif (component) {\n\t\t\t\t\tcomponentArray.push(component);\n\t\t\t\t\tcomponent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushComponentArray() {\n\t\t\t\tif (componentArray[0]) {\n\t\t\t\t\tlistArray.push(componentArray);\n\t\t\t\t\tcomponentArray = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// (Loop forwards from the beginning of the string.)\n\t\t\twhile (true) {\n\t\t\t\tchrctr = str.charAt(pos);\n\n\t\t\t\tif (chrctr === \"\") { // ( End of string reached.)\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\treturn listArray;\n\t\t\t\t} else if (inComment) {\n\t\t\t\t\tif ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n\t\t\t\t\t\tinComment = false;\n\t\t\t\t\t\tpos += 2;\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpos += 1; // (Skip all characters inside comments.)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else if (isSpace(chrctr)) {\n\t\t\t\t\t// (If previous character in loop was also a space, or if\n\t\t\t\t\t// at the beginning of the string, do not add space char to\n\t\t\t\t\t// component.)\n\t\t\t\t\tif ( (str.charAt(pos - 1) && isSpace( str.charAt(pos - 1) ) ) || !component ) {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (parenDepth === 0) {\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tpos +=1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// (Replace any space character with a plain space for legibility.)\n\t\t\t\t\t\tchrctr = \" \";\n\t\t\t\t\t}\n\t\t\t\t} else if (chrctr === \"(\") {\n\t\t\t\t\tparenDepth += 1;\n\t\t\t\t} else if (chrctr === \")\") {\n\t\t\t\t\tparenDepth -= 1;\n\t\t\t\t} else if (chrctr === \",\") {\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( (chrctr === \"/\") && (str.charAt(pos + 1) === \"*\") ) {\n\t\t\t\t\tinComment = true;\n\t\t\t\t\tpos += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcomponent = component + chrctr;\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction isValidNonNegativeSourceSizeValue(s) {\n\t\t\tif (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {return true;}\n\t\t\tif (regexCssCalc.test(s)) {return true;}\n\t\t\t// ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n\t\t\t// \"-0 is equivalent to 0 and is not a negative number.\" which means that\n\t\t\t// unitless zero and unitless negative zero must be accepted as special cases.)\n\t\t\tif ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {return true;}\n\t\t\treturn false;\n\t\t}\n\n\t\t// When asked to parse a sizes attribute from an element, parse a\n\t\t// comma-separated list of component values from the value of the element's\n\t\t// sizes attribute (or the empty string, if the attribute is absent), and let\n\t\t// unparsed sizes list be the result.\n\t\t// http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n\t\tunparsedSizesList = parseComponentValues(strValue);\n\t\tunparsedSizesListLength = unparsedSizesList.length;\n\n\t\t// For each unparsed size in unparsed sizes list:\n\t\tfor (i = 0; i < unparsedSizesListLength; i++) {\n\t\t\tunparsedSize = unparsedSizesList[i];\n\n\t\t\t// 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n\t\t\t// ( parseComponentValues() already omits spaces outside of parens. )\n\n\t\t\t// If unparsed size is now empty, that is a parse error; continue to the next\n\t\t\t// iteration of this algorithm.\n\t\t\t// ( parseComponentValues() won't push an empty array. )\n\n\t\t\t// 2. If the last component value in unparsed size is a valid non-negative\n\t\t\t// <source-size-value>, let size be its value and remove the component value\n\t\t\t// from unparsed size. Any CSS function other than the calc() function is\n\t\t\t// invalid. Otherwise, there is a parse error; continue to the next iteration\n\t\t\t// of this algorithm.\n\t\t\t// http://dev.w3.org/csswg/css-syntax/#parse-component-value\n\t\t\tlastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n\t\t\tif (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n\t\t\t\tsize = lastComponentValue;\n\t\t\t\tunparsedSize.pop();\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n\t\t\t// size. If unparsed size is now empty, return size and exit this algorithm.\n\t\t\t// If this was not the last item in unparsed sizes list, that is a parse error.\n\t\t\tif (unparsedSize.length === 0) {\n\t\t\t\treturn size;\n\t\t\t}\n\n\t\t\t// 4. Parse the remaining component values in unparsed size as a\n\t\t\t// <media-condition>. If it does not parse correctly, or it does parse\n\t\t\t// correctly but the <media-condition> evaluates to false, continue to the\n\t\t\t// next iteration of this algorithm.\n\t\t\t// (Parsing all possible compound media conditions in JS is heavy, complicated,\n\t\t\t// and the payoff is unclear. Is there ever an situation where the\n\t\t\t// media condition parses incorrectly but still somehow evaluates to true?\n\t\t\t// Can we just rely on the browser/polyfill to do it?)\n\t\t\tunparsedSize = unparsedSize.join(\" \");\n\t\t\tif (!(pf.matchesMedia( unparsedSize ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 5. Return size and exit this algorithm.\n\t\t\treturn size;\n\t\t}\n\n\t\t// If the above algorithm exhausts unparsed sizes list without returning a\n\t\t// size value, return 100vw.\n\t\treturn \"100vw\";\n\t}\n\n\t// namespace\n\tpf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n\t// srcset support test\n\tpf.supSrcset = \"srcset\" in image;\n\tpf.supSizes = \"sizes\" in image;\n\tpf.supPicture = !!window.HTMLPictureElement;\n\n\t// UC browser does claim to support srcset and picture, but not sizes,\n\t// this extended test reveals the browser does support nothing\n\tif (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n\t\t(function(image2) {\n\t\t\timage.srcset = \"data:,a\";\n\t\t\timage2.src = \"data:,a\";\n\t\t\tpf.supSrcset = image.complete === image2.complete;\n\t\t\tpf.supPicture = pf.supSrcset && pf.supPicture;\n\t\t})(document.createElement(\"img\"));\n\t}\n\n\t// Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n\tif (pf.supSrcset && !pf.supSizes) {\n\n\t\t(function() {\n\t\t\tvar width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n\t\t\tvar width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\tvar test = function() {\n\t\t\t\tvar width = img.width;\n\n\t\t\t\tif (width === 2) {\n\t\t\t\t\tpf.supSizes = true;\n\t\t\t\t}\n\n\t\t\t\talwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n\t\t\t\tisSupportTestReady = true;\n\t\t\t\t// force async\n\t\t\t\tsetTimeout(picturefill);\n\t\t\t};\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\t\t\timg.setAttribute(\"sizes\", \"9px\");\n\n\t\t\timg.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n\t\t\timg.src = width1;\n\t\t})();\n\n\t} else {\n\t\tisSupportTestReady = true;\n\t}\n\n\t// using pf.qsa instead of dom traversing does scale much better,\n\t// especially on sites mixing responsive and non-responsive images\n\tpf.selShort = \"picture>img,img[srcset]\";\n\tpf.sel = pf.selShort;\n\tpf.cfg = cfg;\n\n\t/**\n\t * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n\t */\n\tpf.DPR = (DPR  || 1 );\n\tpf.u = units;\n\n\t// container of supported mime types that one might need to qualify before using\n\tpf.types =  types;\n\n\tpf.setSize = noop;\n\n\t/**\n\t * Gets a string and returns the absolute URL\n\t * @param src\n\t * @returns {String} absolute URL\n\t */\n\n\tpf.makeUrl = memoize(function(src) {\n\t\tanchor.href = src;\n\t\treturn anchor.href;\n\t});\n\n\t/**\n\t * Gets a DOM element or document and a selctor and returns the found matches\n\t * Can be extended with jQuery/Sizzle for IE7 support\n\t * @param context\n\t * @param sel\n\t * @returns {NodeList|Array}\n\t */\n\tpf.qsa = function(context, sel) {\n\t\treturn ( \"querySelector\" in context ) ? context.querySelectorAll(sel) : [];\n\t};\n\n\t/**\n\t * Shortcut method for matchMedia ( for easy overriding in tests )\n\t * wether native or pf.mMQ is used will be decided lazy on first call\n\t * @returns {boolean}\n\t */\n\tpf.matchesMedia = function() {\n\t\tif ( window.matchMedia && (matchMedia( \"(min-width: 0.1em)\" ) || {}).matches ) {\n\t\t\tpf.matchesMedia = function( media ) {\n\t\t\t\treturn !media || ( matchMedia( media ).matches );\n\t\t\t};\n\t\t} else {\n\t\t\tpf.matchesMedia = pf.mMQ;\n\t\t}\n\n\t\treturn pf.matchesMedia.apply( this, arguments );\n\t};\n\n\t/**\n\t * A simplified matchMedia implementation for IE8 and IE9\n\t * handles only min-width/max-width with px or em values\n\t * @param media\n\t * @returns {boolean}\n\t */\n\tpf.mMQ = function( media ) {\n\t\treturn media ? evalCSS(media) : true;\n\t};\n\n\t/**\n\t * Returns the calculated length in css pixel from the given sourceSizeValue\n\t * http://dev.w3.org/csswg/css-values-3/#length-value\n\t * intended Spec mismatches:\n\t * * Does not check for invalid use of CSS functions\n\t * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n\t * @param sourceSizeValue\n\t * @returns {Number}\n\t */\n\tpf.calcLength = function( sourceSizeValue ) {\n\n\t\tvar value = evalCSS(sourceSizeValue, true) || false;\n\t\tif (value < 0) {\n\t\t\tvalue = false;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\t/**\n\t * Takes a type string and checks if its supported\n\t */\n\n\tpf.supportsType = function( type ) {\n\t\treturn ( type ) ? types[ type ] : true;\n\t};\n\n\t/**\n\t * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n\t * @param sourceSizeStr\n\t * @returns {*}\n\t */\n\tpf.parseSize = memoize(function( sourceSizeStr ) {\n\t\tvar match = ( sourceSizeStr || \"\" ).match(regSize);\n\t\treturn {\n\t\t\tmedia: match && match[1],\n\t\t\tlength: match && match[2]\n\t\t};\n\t});\n\n\tpf.parseSet = function( set ) {\n\t\tif ( !set.cands ) {\n\t\t\tset.cands = parseSrcset(set.srcset, set);\n\t\t}\n\t\treturn set.cands;\n\t};\n\n\t/**\n\t * returns 1em in css px for html/body default size\n\t * function taken from respondjs\n\t * @returns {*|number}\n\t */\n\tpf.getEmValue = function() {\n\t\tvar body;\n\t\tif ( !eminpx && (body = document.body) ) {\n\t\t\tvar div = document.createElement( \"div\" ),\n\t\t\t\toriginalHTMLCSS = docElem.style.cssText,\n\t\t\t\toriginalBodyCSS = body.style.cssText;\n\n\t\t\tdiv.style.cssText = baseStyle;\n\n\t\t\t// 1em in a media query is the value of the default font size of the browser\n\t\t\t// reset docElem and body to ensure the correct value is returned\n\t\t\tdocElem.style.cssText = fsCss;\n\t\t\tbody.style.cssText = fsCss;\n\n\t\t\tbody.appendChild( div );\n\t\t\teminpx = div.offsetWidth;\n\t\t\tbody.removeChild( div );\n\n\t\t\t//also update eminpx before returning\n\t\t\teminpx = parseFloat( eminpx, 10 );\n\n\t\t\t// restore the original values\n\t\t\tdocElem.style.cssText = originalHTMLCSS;\n\t\t\tbody.style.cssText = originalBodyCSS;\n\n\t\t}\n\t\treturn eminpx || 16;\n\t};\n\n\t/**\n\t * Takes a string of sizes and returns the width in pixels as a number\n\t */\n\tpf.calcListLength = function( sourceSizeListStr ) {\n\t\t// Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n\t\t//\n\t\t//                           or (min-width:30em) calc(30% - 15px)\n\t\tif ( !(sourceSizeListStr in sizeLengthCache) || cfg.uT ) {\n\t\t\tvar winningLength = pf.calcLength( parseSizes( sourceSizeListStr ) );\n\n\t\t\tsizeLengthCache[ sourceSizeListStr ] = !winningLength ? units.width : winningLength;\n\t\t}\n\n\t\treturn sizeLengthCache[ sourceSizeListStr ];\n\t};\n\n\t/**\n\t * Takes a candidate object with a srcset property in the form of url/\n\t * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n\t *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n\t *     \"images/pic-small.png\"\n\t * Get an array of image candidates in the form of\n\t *      {url: \"/foo/bar.png\", resolution: 1}\n\t * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n\t * If sizes is specified, res is calculated\n\t */\n\tpf.setRes = function( set ) {\n\t\tvar candidates;\n\t\tif ( set ) {\n\n\t\t\tcandidates = pf.parseSet( set );\n\n\t\t\tfor ( var i = 0, len = candidates.length; i < len; i++ ) {\n\t\t\t\tsetResolution( candidates[ i ], set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidates;\n\t};\n\n\tpf.setRes.res = setResolution;\n\n\tpf.applySetCandidate = function( candidates, img ) {\n\t\tif ( !candidates.length ) {return;}\n\t\tvar candidate,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlength,\n\t\t\tbestCandidate,\n\t\t\tcurSrc,\n\t\t\tcurCan,\n\t\t\tcandidateSrc,\n\t\t\tabortCurSrc;\n\n\t\tvar imageData = img[ pf.ns ];\n\t\tvar dpr = pf.DPR;\n\n\t\tcurSrc = imageData.curSrc || img[curSrcProp];\n\n\t\tcurCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n\t\t// if we have a current source, we might either become lazy or give this source some advantage\n\t\tif ( curCan && curCan.set === candidates[ 0 ].set ) {\n\n\t\t\t// if browser can abort image request and the image has a higher pixel density than needed\n\t\t\t// and this image isn't downloaded yet, we skip next part and try to save bandwidth\n\t\t\tabortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n\t\t\tif ( !abortCurSrc ) {\n\t\t\t\tcurCan.cached = true;\n\n\t\t\t\t// if current candidate is \"best\", \"better\" or \"okay\",\n\t\t\t\t// set it to bestCandidate\n\t\t\t\tif ( curCan.res >= dpr ) {\n\t\t\t\t\tbestCandidate = curCan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !bestCandidate ) {\n\n\t\t\tcandidates.sort( ascendingSort );\n\n\t\t\tlength = candidates.length;\n\t\t\tbestCandidate = candidates[ length - 1 ];\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\tif ( candidate.res >= dpr ) {\n\t\t\t\t\tj = i - 1;\n\n\t\t\t\t\t// we have found the perfect candidate,\n\t\t\t\t\t// but let's improve this a little bit with some assumptions ;-)\n\t\t\t\t\tif (candidates[ j ] &&\n\t\t\t\t\t\t(abortCurSrc || curSrc !== pf.makeUrl( candidate.url )) &&\n\t\t\t\t\t\tchooseLowRes(candidates[ j ].res, candidate.res, dpr, candidates[ j ].cached)) {\n\n\t\t\t\t\t\tbestCandidate = candidates[ j ];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbestCandidate = candidate;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( bestCandidate ) {\n\n\t\t\tcandidateSrc = pf.makeUrl( bestCandidate.url );\n\n\t\t\timageData.curSrc = candidateSrc;\n\t\t\timageData.curCan = bestCandidate;\n\n\t\t\tif ( candidateSrc !== curSrc ) {\n\t\t\t\tpf.setSrc( img, bestCandidate );\n\t\t\t}\n\t\t\tpf.setSize( img );\n\t\t}\n\t};\n\n\tpf.setSrc = function( img, bestCandidate ) {\n\t\tvar origWidth;\n\t\timg.src = bestCandidate.url;\n\n\t\t// although this is a specific Safari issue, we don't want to take too much different code paths\n\t\tif ( bestCandidate.set.type === \"image/svg+xml\" ) {\n\t\t\torigWidth = img.style.width;\n\t\t\timg.style.width = (img.offsetWidth + 1) + \"px\";\n\n\t\t\t// next line only should trigger a repaint\n\t\t\t// if... is only done to trick dead code removal\n\t\t\tif ( img.offsetWidth + 1 ) {\n\t\t\t\timg.style.width = origWidth;\n\t\t\t}\n\t\t}\n\t};\n\n\tpf.getSet = function( img ) {\n\t\tvar i, set, supportsType;\n\t\tvar match = false;\n\t\tvar sets = img [ pf.ns ].sets;\n\n\t\tfor ( i = 0; i < sets.length && !match; i++ ) {\n\t\t\tset = sets[i];\n\n\t\t\tif ( !set.srcset || !pf.matchesMedia( set.media ) || !(supportsType = pf.supportsType( set.type )) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( supportsType === \"pending\" ) {\n\t\t\t\tset = supportsType;\n\t\t\t}\n\n\t\t\tmatch = set;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn match;\n\t};\n\n\tpf.parseSets = function( element, parent, options ) {\n\t\tvar srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n\t\tvar hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n\t\tvar imageData = element[ pf.ns ];\n\n\t\tif ( imageData.src === undefined || options.src ) {\n\t\t\timageData.src = getImgAttr.call( element, \"src\" );\n\t\t\tif ( imageData.src ) {\n\t\t\t\tsetImgAttr.call( element, srcAttr, imageData.src );\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcAttr );\n\t\t\t}\n\t\t}\n\n\t\tif ( imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset ) {\n\t\t\tsrcsetAttribute = getImgAttr.call( element, \"srcset\" );\n\t\t\timageData.srcset = srcsetAttribute;\n\t\t\tsrcsetParsed = true;\n\t\t}\n\n\t\timageData.sets = [];\n\n\t\tif ( hasPicture ) {\n\t\t\timageData.pic = true;\n\t\t\tgetAllSourceElements( parent, imageData.sets );\n\t\t}\n\n\t\tif ( imageData.srcset ) {\n\t\t\timageSet = {\n\t\t\t\tsrcset: imageData.srcset,\n\t\t\t\tsizes: getImgAttr.call( element, \"sizes\" )\n\t\t\t};\n\n\t\t\timageData.sets.push( imageSet );\n\n\t\t\tisWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n\t\t\t// add normal src as candidate, if source has no w descriptor\n\t\t\tif ( !isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x ) {\n\t\t\t\timageSet.srcset += \", \" + imageData.src;\n\t\t\t\timageSet.cands.push({\n\t\t\t\t\turl: imageData.src,\n\t\t\t\t\td: 1,\n\t\t\t\t\tset: imageSet\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( imageData.src ) {\n\t\t\timageData.sets.push( {\n\t\t\t\tsrcset: imageData.src,\n\t\t\t\tsizes: null\n\t\t\t} );\n\t\t}\n\n\t\timageData.curCan = null;\n\t\timageData.curSrc = undefined;\n\n\t\t// if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n\t\t// or has a w descriptor (and does not support sizes) set support to false to evaluate\n\t\timageData.supported = !( hasPicture || ( imageSet && !pf.supSrcset ) || (isWDescripor && !pf.supSizes) );\n\n\t\tif ( srcsetParsed && pf.supSrcset && !imageData.supported ) {\n\t\t\tif ( srcsetAttribute ) {\n\t\t\t\tsetImgAttr.call( element, srcsetAttr, srcsetAttribute );\n\t\t\t\telement.srcset = \"\";\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcsetAttr );\n\t\t\t}\n\t\t}\n\n\t\tif (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) ||  element.src !== pf.makeUrl(imageData.src))) {\n\t\t\tif (imageData.src === null) {\n\t\t\t\telement.removeAttribute(\"src\");\n\t\t\t} else {\n\t\t\t\telement.src = imageData.src;\n\t\t\t}\n\t\t}\n\n\t\timageData.parsed = true;\n\t};\n\n\tpf.fillImg = function(element, options) {\n\t\tvar imageData;\n\t\tvar extreme = options.reselect || options.reevaluate;\n\n\t\t// expando for caching data on the img\n\t\tif ( !element[ pf.ns ] ) {\n\t\t\telement[ pf.ns ] = {};\n\t\t}\n\n\t\timageData = element[ pf.ns ];\n\n\t\t// if the element has already been evaluated, skip it\n\t\t// unless `options.reevaluate` is set to true ( this, for example,\n\t\t// is set to true when running `picturefill` on `resize` ).\n\t\tif ( !extreme && imageData.evaled === evalId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !imageData.parsed || options.reevaluate ) {\n\t\t\tpf.parseSets( element, element.parentNode, options );\n\t\t}\n\n\t\tif ( !imageData.supported ) {\n\t\t\tapplyBestCandidate( element );\n\t\t} else {\n\t\t\timageData.evaled = evalId;\n\t\t}\n\t};\n\n\tpf.setupRun = function() {\n\t\tif ( !alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio) ) {\n\t\t\tupdateMetrics();\n\t\t}\n\t};\n\n\t// If picture is supported, well, that's awesome.\n\tif ( pf.supPicture ) {\n\t\tpicturefill = noop;\n\t\tpf.fillImg = noop;\n\t} else {\n\n\t\t // Set up picture polyfill by polling the document\n\t\t(function() {\n\t\t\tvar isDomReady;\n\t\t\tvar regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n\t\t\tvar run = function() {\n\t\t\t\tvar readyState = document.readyState || \"\";\n\n\t\t\t\ttimerId = setTimeout(run, readyState === \"loading\" ? 200 :  999);\n\t\t\t\tif ( document.body ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t\tisDomReady = isDomReady || regReady.test(readyState);\n\t\t\t\t\tif ( isDomReady ) {\n\t\t\t\t\t\tclearTimeout( timerId );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timerId = setTimeout(run, document.body ? 9 : 99);\n\n\t\t\t// Also attach picturefill on resize and readystatechange\n\t\t\t// http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n\t\t\tvar debounce = function(func, wait) {\n\t\t\t\tvar timeout, timestamp;\n\t\t\t\tvar later = function() {\n\t\t\t\t\tvar last = (new Date()) - timestamp;\n\n\t\t\t\t\tif (last < wait) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\tfunc();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\ttimestamp = new Date();\n\n\t\t\t\t\tif (!timeout) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tvar lastClientWidth = docElem.clientHeight;\n\t\t\tvar onResize = function() {\n\t\t\t\tisVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n\t\t\t\tlastClientWidth = docElem.clientHeight;\n\t\t\t\tif ( isVwDirty ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ton( window, \"resize\", debounce(onResize, 99 ) );\n\t\t\ton( document, \"readystatechange\", run );\n\t\t})();\n\t}\n\n\tpf.picturefill = picturefill;\n\t//use this internally for easy monkey patching/performance testing\n\tpf.fillImgs = picturefill;\n\tpf.teardownRun = noop;\n\n\t/* expose methods for testing */\n\tpicturefill._ = pf;\n\n\twindow.picturefillCFG = {\n\t\tpf: pf,\n\t\tpush: function(args) {\n\t\t\tvar name = args.shift();\n\t\t\tif (typeof pf[name] === \"function\") {\n\t\t\t\tpf[name].apply(pf, args);\n\t\t\t} else {\n\t\t\t\tcfg[name] = args[0];\n\t\t\t\tif (alreadyRun) {\n\t\t\t\t\tpf.fillImgs( { reselect: true } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\twhile (setOptions && setOptions.length) {\n\t\twindow.picturefillCFG.push(setOptions.shift());\n\t}\n\n\t/* expose picturefill */\n\twindow.picturefill = picturefill;\n\n\t/* expose picturefill */\n\tif (  true && typeof module.exports === \"object\" ) {\n\t\t// CommonJS, just export\n\t\tmodule.exports = picturefill;\n\t} else if ( true ) {\n\t\t// AMD support\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return picturefill; }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\n\n\t// IE8 evals this sync, so it must be the last thing we do\n\tif ( !pf.supPicture ) {\n\t\ttypes[ \"image/webp\" ] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\" );\n\t}\n\n} )( window, document );\n\n\n//# sourceURL=webpack:///./node_modules/picturefill/dist/picturefill.js?");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n//# sourceURL=webpack:///./node_modules/process/browser.js?");

/***/ }),

/***/ "./node_modules/q/q.js":
/*!*****************************!*\
  !*** ./node_modules/q/q.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process, setImmediate) {// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2017 Kris Kowal under the terms of the MIT\n * license found at https://github.com/kriskowal/q/blob/v1/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (true) {\n        module.exports = definition();\n\n    // RequireJS\n    } else { var previousQ, global; }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.toString()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you dont need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Millers explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_defineProperty = Object.defineProperty || function (obj, prop, descriptor) {\n    obj[prop] = descriptor.value;\n    return obj;\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {\n                object_defineProperty(error, \"__minimumStackCounter__\", {value: p.stackCounter, configurable: true});\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        var stack = filterStackString(concatedStacks);\n        object_defineProperty(error, \"stack\", {value: stack, configurable: true});\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * The counter is used to determine the stopping point for building\n * long stack traces. In makeStackTraceLong we walk backwards through\n * the linked list of promises, only stacks which were created before\n * the rejection are concatenated.\n */\nvar longStackCounter = 1;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n            promise.stackCounter = longStackCounter++;\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n\n        if (Q.longStackSupport && hasStacks) {\n            // Only hold a reference to the new promise if long stacks\n            // are enabled to reduce memory usage\n            promise.source = newPromise;\n        }\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Q can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If its a fulfilled promise, the fulfillment value is nearer.\n * If its a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected(err) {\n            pendingCount--;\n            if (pendingCount === 0) {\n                var rejection = err || new Error(\"\" + err);\n\n                rejection.message = (\"Q can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected. Last error message: \" + rejection.message);\n\n                deferred.reject(rejection);\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    if (!callback || typeof callback.apply !== \"function\") {\n        throw new Error(\"Q can't apply finally callback\");\n    }\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    if (callback === undefined) {\n        throw new Error(\"Q can't wrap an undefined function\");\n    }\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! ./../timers-browserify/main.js */ \"./node_modules/timers-browserify/main.js\").setImmediate))\n\n//# sourceURL=webpack:///./node_modules/q/q.js?");

/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n//# sourceURL=webpack:///./node_modules/setimmediate/setImmediate.js?");

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(/*! setimmediate */ \"./node_modules/setimmediate/setImmediate.js\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./node_modules/timers-browserify/main.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./node_modules/whatwg-fetch/fetch.js":
/*!********************************************!*\
  !*** ./node_modules/whatwg-fetch/fetch.js ***!
  \********************************************/
/*! exports provided: Headers, Request, Response, DOMException, fetch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Headers\", function() { return Headers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Request\", function() { return Request; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Response\", function() { return Response; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMException\", function() { return DOMException; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetch\", function() { return fetch; });\nvar support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n\n\n//# sourceURL=webpack:///./node_modules/whatwg-fetch/fetch.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/env.conf.json":
/*!**************************************************!*\
  !*** ./src/assets/toolkit/scripts/env.conf.json ***!
  \**************************************************/
/*! exports provided: name, server, default */
/***/ (function(module) {

eval("module.exports = {\"name\":\"stage\",\"server\":{\"protocol\":\"http\",\"host\":\"dev-static.victoria.ac.nz\",\"port\":80}};\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/env.conf.json?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/core.js":
/*!****************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/core.js ***!
  \****************************************************/
/*! exports provided: initToolbarUrlListeners, initToolbarLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initToolbarUrlListeners\", function() { return initToolbarUrlListeners; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initToolbarLoader\", function() { return initToolbarLoader; });\n/* harmony import */ var _urls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./urls */ \"./src/assets/toolkit/scripts/modules/urls.js\");\n/* harmony import */ var _lazyloader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lazyloader */ \"./src/assets/toolkit/scripts/modules/lazyloader.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// Import other standalone libraries\n\n\n\nvar envConfig = __webpack_require__(/*! ../env.conf.json */ \"./src/assets/toolkit/scripts/env.conf.json\");\n/**\n * A collection of shareable lightweight libraries and functions\n * requiring no external dependencies, reusable across multiple\n * templates and environments. Can be also use as a lightweight\n * alternative to the beefy `toolkit.d5e2cabc.js`.\n */\n\n\nfunction initToolbarUrlListeners() {\n  _urls__WEBPACK_IMPORTED_MODULE_0__[\"default\"].onLoadWhenQueryExists('toolbar', function () {\n    if (window.toolkitToolbarLoader) window.toolkitToolbarLoader('https://www.victoria.ac.nz/api/toolbar/staff');\n  });\n  _urls__WEBPACK_IMPORTED_MODULE_0__[\"default\"].onLoadWhenQueryExists('mytools', function () {\n    if (window.toolkitToolbarLoader) window.toolkitToolbarLoader('https://www.victoria.ac.nz/api/toolbar/students');\n  });\n} // eslint-disable-next-line import/prefer-default-export\n\nfunction initToolbarLoader(extraDependenciesList) {\n  var WINDOW_NAMESPACE_TOOLBAR_LOADER = 'toolkitToolbarLoader',\n      WINDOW_NAMESPACE_TOOLBAR = 'toolkitToolbar',\n      minifiedString = envConfig.name === 'production' ? '.min' : '',\n      URL_SCRIPT_TOOLBAR = \"//\".concat(envConfig.server.host).concat(envConfig.name === 'development' ? \":\".concat(envConfig.server.port) : '', \"/toolkit.toolbar\").concat(minifiedString, \".js\"); // Public API endpoint\n\n  window[WINDOW_NAMESPACE_TOOLBAR_LOADER] = function (configObjectOrUrl) {\n    // 1) Assemble dependencies\n    var configEndpointUrl = typeof configObjectOrUrl === 'string' ? configObjectOrUrl : null;\n    var configObject = _typeof(configObjectOrUrl) === 'object' ? configObjectOrUrl : undefined;\n    var toolbarDependenciesList = [{\n      url: URL_SCRIPT_TOOLBAR,\n      namespace: WINDOW_NAMESPACE_TOOLBAR\n    }];\n\n    if (extraDependenciesList && extraDependenciesList.length > 0) {\n      extraDependenciesList.forEach(function (extraDependency) {\n        return toolbarDependenciesList.push(extraDependency);\n      });\n    }\n\n    if (!configObject && configEndpointUrl) {\n      // Config & data model's URL is available - add it to the dependencies\n      toolbarDependenciesList.push({\n        url: configEndpointUrl,\n        onSuccess: function onSuccess(responseObject) {\n          configObject = responseObject;\n        }\n      });\n    } else if (!configObject) {\n      // Nor config & data model object -or- RESTful API is available\n      console.error('A toolbar requires valid configuration and model object or URL (%s) to the RESTful API endpoint that would return this object. Toolbar dialog will not be opened.', configEndpointUrl, configObject);\n      return;\n    } //TODO: 2) Turn on full screen loading service\n    // 3) Load all dependencies asynchronously (skip if already available yet)\n\n\n    Object(_lazyloader__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(toolbarDependenciesList, function (errors) {\n      // TODO: 4) Turn off full screen loading service\n      // All dependencies *MUST BE* loaded, otherwise skip the initialisation\n      if (!errors) {\n        // 5A) Init and open\n        var toolbarManager = window[WINDOW_NAMESPACE_TOOLBAR];\n\n        if (toolbarManager) {\n          try {\n            var toolbarInstance = toolbarManager.initToolbar(configObject);\n            toolbarInstance.show();\n          } catch (err) {\n            console.error(err);\n          }\n        } else {\n          console.error(\"Toolbar library is not available on the global scope (window.\".concat(WINDOW_NAMESPACE_TOOLBAR, \") - the toolbar dialog will not be initialised and opened.\"));\n        }\n      } else {\n        // 5B) Report errors\n        console.error('Unable to lazy load all the dependencies required to initialise and open the Toolbar dialog.', errors);\n      }\n    });\n  };\n} // Expose to the global scope\n\nwindow.toolkitCore = {\n  initToolbarUrlListeners: initToolbarUrlListeners,\n  initToolbarLoader: initToolbarLoader\n};\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/core.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/lazyloader.js":
/*!**********************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/lazyloader.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var little_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! little-loader */ \"./node_modules/little-loader/lib/little-loader.js\");\n/* harmony import */ var little_loader__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(little_loader__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var q__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! q */ \"./node_modules/q/q.js\");\n/* harmony import */ var q__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(q__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! whatwg-fetch */ \"./node_modules/whatwg-fetch/fetch.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helpers */ \"./src/assets/toolkit/scripts/utils/helpers.js\");\n// Import 3rd party dependencies\n\n\n // Import helpers\n\n\n/**\n * @typedef {Object} ResourceSpec\n *\n * @property {String} url - Full URL of the resource.\n * @property {String} namespace - (Optional) If the requested resource is\n *    JavaScript attached to the `window` global Object, it allows to\n *    double-check whether it already exists to prevent extra download.\n * @property {function} onSuccess - (Optional) Function hook that\n *    triggers if the resource loads successfully.\n */\n\n/**\n * A service module providing asynchronous retrieval of the\n * javascript files, CSS or JSON structures (from RESTful APIs).\n *\n * Can be accessed globally through `window.lazyLoader`\n * or imported/required as a JS module.\n *\n * @return {LazyLoadResources}\n */\n\nvar lazyLoaderService = function GetLazyLoader() {\n  if (window.lazyLoader) {\n    // Available already - do not initialise again!\n    return window.lazyLoader;\n  }\n  /** @constant */\n\n  /** PRIVATE MEMBERS */\n\n  /**\n   * Caches DOMElements or JSON Object of the resources that have been already\n   * requested once before.\n   */\n\n\n  var resourcesCache = {};\n  /** PRIVATE FUNCTIONS */\n\n  /**\n   * @param {string} url\n   *\n   * @returns {Element} `<link>` DOM element that was added.\n   */\n\n  function addCssToDom(url) {\n    var link = document.createElement('link');\n    link.href = url;\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    document.getElementsByTagName('head')[0].appendChild(link);\n    return link;\n  }\n  /**\n   * Process and retrieve a resource from given resource specification.\n   *\n   * *Optimisations*:\n   * A) If `*.js` file is requested and the `namespace` value is defined in the\n   * resource specification, resource won't be lazy loaded (assuming the\n   * library is already available).\n   * B) All resources requested since the `lazyLoader` initialised are cached.\n   * All subsequent requests on the same `url` in resource specification will\n   * be loaded from the local cache.\n   * C) A `*.css` file will not be loaded if an element `<link>` containing\n   * `url` from resource specification is found in the DOM.\n   *\n   * @param {ResourceSpec} resourceSpecification\n   *\n   * @return {q.Promise}\n   */\n\n\n  function processResourceRequest(resourceSpecification) {\n    var deferred = q__WEBPACK_IMPORTED_MODULE_1___default.a.defer();\n    var url = resourceSpecification.url,\n        namespace = resourceSpecification.namespace,\n        onSuccess = resourceSpecification.onSuccess;\n\n    function resolveRequest(requestResult) {\n      // Add to cache\n      if (!Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(resourcesCache, url)) resourcesCache[url] = requestResult;\n      deferred.resolve(requestResult);\n      if (onSuccess) onSuccess(requestResult);\n      return deferred.promise;\n    } // 1. Check locally if the resource at `url` hasn't been already cached\n\n\n    if (Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(resourcesCache, url)) return resolveRequest(resourcesCache[url]); // 2. Not available locally - Retrieve based on given type\n\n    if (url.match(/.*\\.js$/)) {\n      // A) Javascript\n      // Check locally if `namespace` doesn't already exist in the global scope.\n      if (namespace && Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(window, namespace)) return resolveRequest(window[namespace]);\n      little_loader__WEBPACK_IMPORTED_MODULE_0___default()(url, function (err) {\n        if (!err) {\n          if (namespace && Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(window, namespace)) {\n            resolveRequest(window[namespace]);\n          } else {\n            if (namespace) console.warn('Javascript might be loaded, but the library is not available on the given global scope/namespace `window.%s`!', namespace);\n            resolveRequest(null);\n          }\n        } else {\n          deferred.reject(err);\n        }\n      });\n    } else if (url.match(/.*\\.css$/)) {\n      // B) CSS file\n      var existingStylesheet = document.querySelector(\"link[href*=\\\"\".concat(url, \"\\\"]\"));\n\n      if (existingStylesheet) {\n        resolveRequest(existingStylesheet);\n      } else {\n        resolveRequest(addCssToDom(url));\n      }\n    } else {\n      // C) XHR with JSON response\n      window.fetch(url, {\n        credentials: 'same-origin',\n        mode: 'cors'\n      }).then(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"checkHttpStatus\"]).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        resolveRequest(responseJson);\n      }).catch(function (err) {\n        deferred.reject(err);\n      });\n    }\n\n    return deferred.promise;\n  }\n  /** CONSTRUCTOR. */\n\n  /**\n   * Factory method that receives list of all resources (and configuration\n   * details) that should be asynchronously loaded.\n   *\n   * @typedef {function} LazyLoadResources\n   *\n   * @param {Array<ResourceSpec>} resourcesSpecList\n   * @param {function} onProcessedCallback\n   */\n\n\n  function loadResources(resourcesSpecList, onProcessedCallback) {\n    // 1) Process all resource specifications and generate list of Promises\n    var requestPromises = resourcesSpecList.map(function (resourceSpecification) {\n      return processResourceRequest(resourceSpecification);\n    }); // 2) When all resolve (or fail), execute the callback and pass errors if any\n\n    q__WEBPACK_IMPORTED_MODULE_1___default.a.allSettled(requestPromises).then(function (settledObjects) {\n      var rejectionsList;\n      settledObjects.forEach(function (settledObject) {\n        if (settledObject.state === 'rejected') {\n          if (!rejectionsList) rejectionsList = [];\n          rejectionsList.push(settledObject.reason);\n        }\n      });\n      onProcessedCallback(rejectionsList);\n    }).catch(function (rejectionReason) {\n      onProcessedCallback(\"Error when processing or retrieving the requested resources. \".concat(rejectionReason));\n    }).done();\n  }\n  /** SERVICE */\n\n\n  var serviceFactory = loadResources; // A) Make available for vanilla JS\n\n  window.lazyLoader = serviceFactory; // B) Return the Service function\n\n  return serviceFactory;\n}(); // Make the Service available for Modular JS codebases\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (lazyLoaderService);\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/lazyloader.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/popups.js":
/*!******************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/popups.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar _this = undefined;\n\n/**\n * Toolkit's standalone JS module for popup-based interactions.\n *\n * @requires Cookie {cookies-js}\n */\n// Dynamic 3rd party dependencies\nvar cookie;\nvar tracker = window.toolkitTracker ? window.toolkitTracker() : null;\nvar CLASSNAME = {\n  POPUP_AUTOINIT: 'popup',\n  BUTTON_OK: 'button-ok',\n  BUTTON_CANCEL: 'button-cancel',\n  BUTTON_CLOSE: 'btn-close'\n};\n\nfunction findAncestor(el, cls) {\n  while ((el = el.parentElement) && !el.classList.contains(cls)) {\n    ;\n  }\n\n  return el;\n}\n/** Popup launcher. */\n\n\nfunction initPopupBox(popupElement) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$delayInMs = _ref.delayInMs,\n      delayInMs = _ref$delayInMs === void 0 ? 7000 : _ref$delayInMs,\n      _ref$suppressAfterCan = _ref.suppressAfterCanceling,\n      suppressAfterCanceling = _ref$suppressAfterCan === void 0 ? true : _ref$suppressAfterCan;\n\n  var COOKIE_ID = popupElement.id || 'popup-default';\n  var COOKIE_SETTINGS = {\n    expires: 2419200 // 28 days\n    // secure  : true    //If set to true the secure attribute of the cookie\n\n  };\n  var popupContainerElement = findAncestor(popupElement, 'popup-positioner');\n  var buttonOkElements = popupElement.getElementsByClassName(CLASSNAME.BUTTON_OK),\n      buttonCancelElement = popupElement.getElementsByClassName(CLASSNAME.BUTTON_CANCEL)[0],\n      buttonCloseElement = popupElement.getElementsByClassName(CLASSNAME.BUTTON_CLOSE)[0],\n      IS_SHOWN_CLASS = 'shown';\n\n  function removeShownClass() {\n    if (popupContainerElement) {\n      popupContainerElement.classList.remove(IS_SHOWN_CLASS);\n    } else {\n      popupElement.classList.remove(IS_SHOWN_CLASS);\n    }\n  }\n\n  function closePopupPermanently() {\n    if (cookie) cookie.set(COOKIE_ID, true, COOKIE_SETTINGS);\n  }\n\n  function closePopup() {\n    unbindButtonEvents();\n    popupElement.setAttribute('data-shown', false);\n    removeShownClass();\n    if (suppressAfterCanceling) closePopupPermanently();\n  }\n\n  function close(event) {\n    // If `positionerClass` exists, hide + save 'hidden' to cookies\n    event.preventDefault();\n    event.stopPropagation();\n    closePopup();\n  }\n\n  function submit() {\n    // If `positionerClass` exists, hide + save 'hidden' to cookies + continue to the page\n    closePopup();\n  }\n\n  function cancel() {\n    // If `positionerClass` exists, hide + save 'hidden' to cookies + continue to the page\n    closePopup();\n  } // Attach button events\n\n\n  function bindButtonEvents() {\n    for (var i = 0; i < buttonOkElements.length; i++) {\n      buttonOkElements[i].addEventListener('click', submit);\n    }\n\n    if (buttonCloseElement) buttonCloseElement.addEventListener('click', close);\n    if (buttonCancelElement) buttonCancelElement.addEventListener('click', cancel);\n  }\n\n  function unbindButtonEvents() {\n    for (var i = 0; i < buttonOkElements.length; i++) {\n      buttonOkElements[i].removeEventListener('click', submit);\n    }\n\n    if (buttonCloseElement) buttonCloseElement.removeEventListener('click', close);\n    if (buttonCancelElement) buttonCancelElement.removeEventListener('click', cancel);\n  }\n\n  function addShownClass() {\n    if (popupContainerElement) {\n      document.getElementsByTagName('body')[0].appendChild(popupContainerElement);\n      popupContainerElement.classList.add(IS_SHOWN_CLASS);\n    } else {\n      popupElement.classList.add(IS_SHOWN_CLASS);\n    }\n  }\n\n  function isPopupShown() {\n    return popupElement.getAttribute('data-shown') === 'true';\n  }\n\n  function showPopup() {\n    bindButtonEvents();\n    addShownClass();\n\n    if (tracker && tracker.shouldTrackElement(popupElement)) {\n      tracker.trackEvent(popupElement.id, {\n        eventType: 'open'\n      });\n    }\n  } // Constructor\n\n\n  var shouldShowPopup = !cookie || !suppressAfterCanceling || cookie.get(COOKIE_ID) === undefined || !cookie.get(COOKIE_ID);\n\n  if (shouldShowPopup && !isPopupShown()) {\n    popupElement.setAttribute('data-shown', true); // Must be added here to prevent triggering setTimeout when clicking multiple time\n    // If there's a positioner available, display after the timeout!\n\n    setTimeout(function () {\n      showPopup();\n    }, delayInMs);\n  }\n}\n/**\n * Function called on the jQuery Element, opens it as a popup.\n *\n * @param {Object} { delayInMs = 0, suppressAfterCanceling = false }\n *\n * @returns {DOMElement}\n */\n\n\nfunction openPopupInstantly(popupElement) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$delayInMs = _ref2.delayInMs,\n      delayInMs = _ref2$delayInMs === void 0 ? 0 : _ref2$delayInMs,\n      _ref2$suppressAfterCa = _ref2.suppressAfterCanceling,\n      suppressAfterCanceling = _ref2$suppressAfterCa === void 0 ? false : _ref2$suppressAfterCa;\n\n  initPopupBox(popupElement, {\n    delayInMs: delayInMs,\n    suppressAfterCanceling: suppressAfterCanceling\n  });\n}\n\nfunction autoInitialisePopups() {\n  var autoloadPopups = document.getElementsByClassName(CLASSNAME.POPUP_AUTOINIT);\n\n  for (var i = 0; i < autoloadPopups.length; i += 1) {\n    var popupElement = autoloadPopups[i];\n\n    if (popupElement.getAttribute('data-autoload') !== null) {\n      // Autoload (~ show/hide) popup\n      var optionsObject = {};\n\n      if (popupElement.getAttribute('data-opts') !== null) {\n        optionsObject = JSON.parse(popupElement.getAttribute('data-opts'));\n      }\n\n      initPopupBox(popupElement, optionsObject);\n    }\n  }\n} // Public API interface\n\n\nvar popupsApi = {\n  init: initPopupBox,\n  initAndOpen: openPopupInstantly\n}; // Initialiser\n\nfunction init() {\n  if (!cookie) {\n    console.error('`Cookie-js` library is not available. Please, import the library for the correct functionality!');\n  }\n\n  if (!tracker) {\n    console.warn('`Toolkit.tracking` library is not available, so the user actions related to popups will not be sent to the Google Tag Manager. Please, make sure the library is included to enable the tracking.');\n  } // Run when the DOM is ready!\n\n\n  if (document.readyState === 'complete') {\n    autoInitialisePopups();\n  } else {\n    document.onreadystatechange = function () {\n      if (document.readyState === 'complete') {\n        // Find all existing popups and if they contain `data-autoload` attribute,\n        autoInitialisePopups();\n      }\n    };\n  }\n}\n\nif (!window.toolkitPopups) {\n  // Not initialised yet\n  // TODO: Move into encapsulated library module\n  try {\n    cookie = __webpack_require__(/*! cookies-js */ \"./node_modules/cookies-js/dist/cookies.js\");\n    init();\n  } catch (err) {\n    // Fallback when the cookies-js is not included - Load from the CDN\n    var isScriptLoaded = false;\n    var s = document.createElement('script');\n    s.type = 'text/javascript';\n    s.async = true;\n    s.src = '//cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js';\n\n    s.onreadystatechange = function () {\n      // After-load handler for IE\n      if (isScriptLoaded) return;\n\n      if (_this.readyState === 'complete' || _this.readyState === 'loaded') {\n        cookie = window.Cookies;\n        init();\n        isScriptLoaded = true;\n      }\n    };\n\n    s.onload = function () {\n      // After-load handler for all the other browsers\n      if (isScriptLoaded) return;\n      cookie = window.Cookies;\n      init();\n      isScriptLoaded = true;\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(s);\n  } // For a global use\n\n\n  window.toolkitPopups = popupsApi;\n} // Make API available for modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (popupsApi);\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/popups.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/tooltips.js":
/*!********************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/tooltips.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/helpers */ \"./src/assets/toolkit/scripts/utils/helpers.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/** Library-specific polyfills (not shared anywhere else) */\n\nif ('NodeList' in window && !NodeList.prototype.forEach) {\n  console.info('polyfill for IE11');\n\n  NodeList.prototype.forEach = function (callback, thisArg) {\n    thisArg = thisArg || window;\n\n    for (var i = 0; i < this.length; i++) {\n      callback.call(thisArg, this[i], i, this);\n    }\n  };\n} // API interface\n\n\nvar tooltipsApi = window.toolkitTooltips || {};\n/**\n * A module providing basic tooltips UI and functionality.\n * Can be accessed globally through `window.toolkitTooltips` or\n * imported/required as a JS module.\n *\n * @typedef {Object} toolkitTooltip\n *\n * @property {function} initTooltip\n * @property {function} initTooltips\n * @property {function} getAllTooltips\n * @property {function} destroyAllTooltips\n */\n\n(function ToolkitTooltip() {\n  if (window.toolkitTooltips) {\n    // Available already - do not initialise again!\n    return;\n  }\n\n  window.toolkitTooltips = tooltipsApi; // Import for a global access\n\n  /** @constant */\n\n  var VALUE_ID = 'toolkit-tooltip',\n      ATTRIBUTE_NAME_TOOLTIP = 'data-tooltip',\n      ATTRIBUTE_NAME_CONTENT = 'title',\n      SIZES = {\n    SCREEN_PADDING: 20,\n    MAX_WIDTH: 400,\n    CARET_SIZE: 20\n  },\n      TRIGGER_TYPE = {\n    HOVER: 'hover',\n    CLICK: 'click'\n  };\n  /** PRIVATE MEMBERS */\n\n  var globalTooltipElement, lastInteractedSourceElement, outsideClickListenerFn;\n  /** List of active tooltips */\n\n  var tooltipsList = [];\n  /** PRIVATE FUNCTIONS */\n\n  function appendTooltipElement() {\n    var tooltipElement = document.createElement('div');\n    tooltipElement.setAttribute('id', VALUE_ID);\n    tooltipElement.setAttribute('class', 'tooltip');\n    tooltipElement.setAttribute('role', 'tooltip');\n    tooltipElement.setAttribute('hidden', '');\n    document.body.appendChild(tooltipElement);\n    globalTooltipElement = tooltipElement;\n  }\n\n  function removeTooltipElement() {\n    globalTooltipElement = undefined;\n    document.body.removeChild(globalTooltipElement);\n  }\n  /** INLINE CLASSES. */\n\n  /**\n   * Takes care of all the data and UI operations\n   *\n   * @typedef {Class} Tooltip\n   *\n   * @property {Element} sourceElement\n   * @property {string} content\n   * @property {string} triggerType\n   *\n   * @property {function} destroy\n   * @property {function} showTooltip\n   * @property {function} hideTooltip\n   * @property {function} toggleTooltip\n   *\n   */\n\n\n  var Tooltip =\n  /*#__PURE__*/\n  function () {\n    /**\n     * @param {Element} sourceElement -\n     *  DOM Element that will toggle the tooltip.\n     * @param {{content:string, attributeNameContent:string,trigger:string}} -\n     *   Optional custom settings.\n     *\n     * @memberof Tooltip\n     */\n    function Tooltip(sourceElement) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          content = _ref.content,\n          _ref$attributeNameCon = _ref.attributeNameContent,\n          attributeNameContent = _ref$attributeNameCon === void 0 ? ATTRIBUTE_NAME_CONTENT : _ref$attributeNameCon,\n          _ref$trigger = _ref.trigger,\n          trigger = _ref$trigger === void 0 ? TRIGGER_TYPE.HOVER : _ref$trigger;\n\n      _classCallCheck(this, Tooltip);\n\n      this.sourceElement = sourceElement;\n      this.content = content || sourceElement.getAttribute(attributeNameContent);\n      this.triggerType = trigger;\n\n      if (this.content) {\n        this.init();\n      } else {\n        console.warn('There is no available content to show in the tooltip for element. The tooltip will not be created. ', this.sourceElement, this.content);\n      }\n\n      this.bindEvents();\n      this.enhanceAccessibility();\n    }\n    /** PUBLIC METHODS */\n\n    /** Removes the tooltip and cleans up. */\n\n\n    _createClass(Tooltip, [{\n      key: \"destroy\",\n      value: function destroy() {\n        // Remove this instance from the list of tooltips\n        var tooltipIndex = tooltipsList.indexOf(this);\n\n        if (tooltipIndex > -1) {\n          tooltipsList.splice(tooltipIndex, 1); // TODO: + Unbind all events\n        }\n\n        if (tooltipsList.length === 0) removeTooltipElement();\n      }\n    }, {\n      key: \"showTooltip\",\n      value: function showTooltip($event) {\n        // Mobile Safari *ONLY* quirk: https://developer.mozilla.org/en-US/docs/Web/Events/click#Safari_Mobile\n        if (Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_0__[\"isAppleMobileDevice\"])()) document.body.style.cursor = 'pointer';\n        Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeAttribute\"])(this.sourceElement, 'title'); // Remove title attribute to prevent default system behavior\n\n        this.sourceElement.setAttribute('aria-describedby', VALUE_ID); // Accessibility\n\n        Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeAttribute\"])(globalTooltipElement, 'hidden'); // Accessibility\n\n        globalTooltipElement.style.opacity = 0; // FIXME: SHOULD support HTML-based content too!\n\n        globalTooltipElement.textContent = this.content;\n        globalTooltipElement.style.display = 'block';\n        this.positionTooltip();\n        return $event;\n      }\n    }, {\n      key: \"hideTooltip\",\n      value: function hideTooltip($event) {\n        globalTooltipElement.style.opacity = 0; // TODO: Animate disappearance\n\n        this.sourceElement.setAttribute(ATTRIBUTE_NAME_CONTENT, this.content);\n        Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeAttribute\"])(this.sourceElement, 'aria-describedby');\n        globalTooltipElement.setAttribute('hidden', ''); // Accessibility\n        // Mobile Safari *ONLY* quirk: https://developer.mozilla.org/en-US/docs/Web/Events/click#Safari_Mobile\n\n        if (Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_0__[\"isAppleMobileDevice\"])()) document.body.style.cursor = null;\n        globalTooltipElement.style.display = 'none';\n        return $event;\n      }\n    }, {\n      key: \"toggleTooltip\",\n      value: function toggleTooltip($event) {\n        var _this = this;\n\n        if (Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_0__[\"isElementHidden\"])(globalTooltipElement)) {\n          if (outsideClickListenerFn) window.removeEventListener('click', outsideClickListenerFn);\n          outsideClickListenerFn = this.handleClickOutsideTooltip.bind(this);\n          window.addEventListener('click', outsideClickListenerFn);\n          this.showTooltip($event);\n        } else {\n          window.removeEventListener('click', outsideClickListenerFn);\n          this.hideTooltip($event);\n\n          if (lastInteractedSourceElement !== this.sourceElement) {\n            setTimeout(function () {\n              // `setTimeout()` forces the tooltip to re-open (by pushing it into )\n              _this.toggleTooltip($event);\n            });\n          }\n        }\n\n        lastInteractedSourceElement = this.sourceElement;\n      }\n      /** PRIVATE FUNCTIONS */\n\n      /** Builds tooltip, attaches events and adds generic DOM. */\n\n    }, {\n      key: \"init\",\n      value: function init() {\n        tooltipsList.push(this); // First initiated tooltip -> add the global tooltip element\n\n        if (tooltipsList.length === 1) appendTooltipElement();\n      }\n    }, {\n      key: \"bindEvents\",\n      value: function bindEvents() {\n        if (this.triggerType === TRIGGER_TYPE.CLICK) {\n          this.sourceElement.addEventListener('click', this.toggleTooltip.bind(this));\n        } else if (this.triggerType === TRIGGER_TYPE.HOVER) {\n          this.bindMouseHovering();\n          this.bindAccessibilityFeatures();\n        } else {\n          console.error('Unsupported type of trigger `%s`. The tooltip will not be shown for your element', this.triggerType, this.sourceElement);\n        }\n      }\n    }, {\n      key: \"bindAccessibilityFeatures\",\n      value: function bindAccessibilityFeatures() {\n        this.sourceElement.addEventListener('focus', this.showTooltip.bind(this));\n        this.sourceElement.addEventListener('focusout', this.hideTooltip.bind(this));\n        this.sourceElement.addEventListener('keydown', this.hideTooltipOnEscKey.bind(this));\n      }\n    }, {\n      key: \"bindMouseHovering\",\n      value: function bindMouseHovering() {\n        this.sourceElement.addEventListener('mouseenter', this.showTooltip.bind(this));\n        this.sourceElement.addEventListener('mouseout', this.hideTooltip.bind(this));\n      }\n    }, {\n      key: \"enhanceAccessibility\",\n      value: function enhanceAccessibility() {\n        this.sourceElement.setAttribute('tabindex', 0);\n      }\n    }, {\n      key: \"handleClickOutsideTooltip\",\n      value: function handleClickOutsideTooltip($event) {\n        if ($event.target !== this.sourceElement && $event.target !== globalTooltipElement) {\n          window.removeEventListener('click', outsideClickListenerFn);\n          this.hideTooltip($event);\n        }\n      }\n    }, {\n      key: \"hideTooltipOnEscKey\",\n      value: function hideTooltipOnEscKey($event) {\n        var KEY_ESC_ID = 27;\n\n        if ($event.which === KEY_ESC_ID) {\n          this.hideTooltip();\n          $event.preventDefault();\n          return false;\n        }\n\n        return true;\n      }\n    }, {\n      key: \"getSourceElementCenterX\",\n      value: function getSourceElementCenterX() {\n        return this.sourceElement.getBoundingClientRect().left + this.sourceElement.getBoundingClientRect().width / 2;\n      }\n    }, {\n      key: \"calculateTooltipPositionX\",\n      value: function calculateTooltipPositionX() {\n        var positionX = 0;\n        var expectedTooltipWidth = Math.floor(globalTooltipElement.getBoundingClientRect().width),\n            viewPortWidth = window.innerWidth,\n            caretOffset = 20,\n            // Half of the caret size + margin from the edge of the tooltip\n        elementCenterX = this.getSourceElementCenterX(),\n            potentialTooltipLeftPositionX = elementCenterX - caretOffset,\n            potentialTooltipRightPositionX = elementCenterX - expectedTooltipWidth + caretOffset;\n\n        if (viewPortWidth < potentialTooltipLeftPositionX + expectedTooltipWidth && elementCenterX - caretOffset >= 0) {\n          globalTooltipElement.classList.add('right');\n          positionX = potentialTooltipRightPositionX;\n        } else {\n          // Default\n          globalTooltipElement.classList.add('left');\n          positionX = potentialTooltipLeftPositionX;\n        }\n\n        return positionX;\n      }\n    }, {\n      key: \"calculateTooltipPositionY\",\n      value: function calculateTooltipPositionY() {\n        var positionY = 0;\n        var caretOffset = 16,\n            // Caret's height + margin between the tip and the element\n        expectedTooltipHeight = globalTooltipElement.getBoundingClientRect().height,\n            viewPortTopY = window.window.pageYOffset,\n            viewPortBottomY = viewPortTopY + window.innerHeight,\n            elementTopY = this.sourceElement.getBoundingClientRect().top,\n            elementBottomY = elementTopY + this.sourceElement.getBoundingClientRect().height,\n            potentialTooltipTopPositionY = elementTopY - caretOffset - expectedTooltipHeight,\n            potentialTooltipBottomPositionY = elementBottomY + caretOffset;\n\n        if (potentialTooltipTopPositionY < SIZES.SCREEN_PADDING && elementBottomY + caretOffset + expectedTooltipHeight <= viewPortBottomY - SIZES.SCREEN_PADDING) {\n          globalTooltipElement.classList.add('top');\n          positionY = potentialTooltipBottomPositionY;\n        } else {\n          // Default\n          globalTooltipElement.classList.add('bottom');\n          positionY = potentialTooltipTopPositionY;\n        }\n\n        return positionY + viewPortTopY;\n      }\n    }, {\n      key: \"setTooltipWidth\",\n      value: function setTooltipWidth() {\n        // Pre-calculate required dimensions\n        var expectedTooltipWidth = Math.floor(globalTooltipElement.getBoundingClientRect().width),\n            viewPortWidth = window.innerWidth,\n            caretOffset = 20,\n            // Half of the caret size + margin from the edge of the tooltip\n        elementCenterX = this.getSourceElementCenterX(),\n            potentialTooltipLeftPositionX = elementCenterX - caretOffset,\n            potentialTooltipRightPositionX = elementCenterX - expectedTooltipWidth + caretOffset,\n            potentialTooltipLeftSpace = viewPortWidth - potentialTooltipLeftPositionX,\n            potentialTooltipRightSpace = potentialTooltipRightPositionX + expectedTooltipWidth; // 2. Check if the tooltip is going to fit there\n\n        if (potentialTooltipLeftSpace - SIZES.SCREEN_PADDING >= expectedTooltipWidth || potentialTooltipRightSpace - SIZES.SCREEN_PADDING >= expectedTooltipWidth) {\n          globalTooltipElement.style.width = \"\".concat(expectedTooltipWidth + 1, \"px\");\n          return;\n        }\n\n        if (potentialTooltipLeftSpace < potentialTooltipRightSpace) {\n          // Tooltip right is better\n          globalTooltipElement.style.width = \"\".concat(potentialTooltipRightSpace - SIZES.SCREEN_PADDING, \"px\");\n        } else {\n          // Tooltip left is better\n          globalTooltipElement.style.width = \"\".concat(potentialTooltipLeftSpace - SIZES.SCREEN_PADDING, \"px\");\n        }\n      }\n    }, {\n      key: \"positionTooltip\",\n      value: function positionTooltip() {\n        // Reset positioning classes\n        globalTooltipElement.classList.remove('left');\n        globalTooltipElement.classList.remove('right');\n        globalTooltipElement.classList.remove('top');\n        globalTooltipElement.classList.remove('bottom');\n        globalTooltipElement.style.width = ''; // Revert into 'auto'\n\n        globalTooltipElement.style.height = ''; // Revert into 'auto'\n\n        this.setTooltipWidth();\n        globalTooltipElement.style.left = \"\".concat(this.calculateTooltipPositionX(), \"px\");\n        globalTooltipElement.style.top = \"\".concat(this.calculateTooltipPositionY(), \"px\");\n        globalTooltipElement.style.opacity = 1;\n      }\n    }]);\n\n    return Tooltip;\n  }();\n  /** PUBLIC METHODS. */\n\n  /**\n   * Initialises a tooltip for a given element. If the `configObject` is not\n   * passed, it tries to parse it from a `data-tooltip` attribute (JSON-valid\n   * string object) of the element.\n   *\n   * @param {Element} tooltipableElement -\n   *    A single element that should be used to initialise a tooltip.\n   * @param {Object} configObject -\n   *    Object specifying configurable options to adjust tooltip's behaviour.\n   *\n   * @return {Tooltip}\n   */\n\n\n  function initTooltip(tooltipableElement, configObject) {\n    var tooltipConfigObject = configObject;\n    var tooltipElementConfigString = tooltipableElement.getAttribute(ATTRIBUTE_NAME_TOOLTIP);\n\n    if (!tooltipConfigObject && tooltipElementConfigString && tooltipConfigObject !== '') {\n      try {\n        tooltipConfigObject = JSON.parse(tooltipElementConfigString);\n      } catch (err) {\n        console.error('Custom configuration options for a tooltip MUST be in a valid JSON format: ', tooltipElementConfigString, tooltipableElement, err);\n      }\n    }\n\n    return new Tooltip(tooltipableElement, tooltipConfigObject);\n  }\n  /**\n   * If no parameter is passed, auto-initialise a tooltip for all\n   * elements that contain `data-tooltip` attribute.\n   *\n   * @param {Array<Element>} tooltipableDomElements -\n   *    A list of all elements to initialise a tooltip for.\n   *\n   * @return {Array<Tooltip>|null} List of newly created Tooltips.\n   */\n\n\n  function initTooltips(tooltipableDomElements) {\n    /** @type {NodeList} */\n    var tooltipableElementList = tooltipableDomElements || document.querySelectorAll(\"[\".concat(ATTRIBUTE_NAME_TOOLTIP, \"]\"));\n    var newTooltipInstances = [];\n    tooltipableElementList.forEach(function (element) {\n      return newTooltipInstances.push(initTooltip(element));\n    });\n    return newTooltipInstances.length > 0 ? newTooltipInstances : null;\n  }\n  /**\n   * Retrieves all existing active tooltips.\n   *\n   * @return {Array<Tooltip>}\n   */\n\n\n  function getAllTooltips() {\n    return tooltipsList;\n  }\n  /**\n   * Removes all the Tooltips safely to prevent memory leaks.\n   *\n   * @returns {boolean}\n   */\n\n\n  function destroyAllTooltips() {\n    while (tooltipsList.length) {\n      tooltipsList[0].destroy();\n    }\n\n    return true;\n  } // Populate public API interface\n\n\n  tooltipsApi.initTooltip = initTooltip;\n  tooltipsApi.initTooltips = initTooltips;\n  tooltipsApi.getAllTooltips = getAllTooltips;\n  tooltipsApi.destroyAllTooltips = destroyAllTooltips;\n  /** MODULE INITIALISATIONS. */\n\n  /**\n   * Check for dependencies and report/auto-import if any are missing.\n   */\n\n  function areDependenciesAvailable() {}\n  /** @constructor */\n\n\n  function constructor() {}\n  /** Initialisations after the DOM becomes ready. */\n\n\n  function initOnDomReady() {}\n\n  (function init() {\n    if (!areDependenciesAvailable()) return;\n    constructor();\n    initOnDomReady();\n  })();\n})(); // Make API available for Modular JS codebases\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (tooltipsApi);\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/tooltips.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/tracking.js":
/*!********************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/tracking.js ***!
  \********************************************************/
/*! exports provided: trackerConfig, tracker, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trackerConfig\", function() { return trackerConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tracker\", function() { return tracker; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Toolkit's standalone JS module for website tracking.\n *\n * @requires $ {jQuery}\n */\n // Members\n\nvar GTM_TRACK_ATTRIBUTE = 'data-gtm-track';\nvar GTM_ID_ATTRIBUTE = 'data-gtm-id';\nvar GTM_DATA_ATTRIBUTE = 'data-gtm-vars';\nvar defaultConfig = {\n  autoRegister: true\n};\n/** Start tracking automatically. */\n\nvar shouldAutoRegister = true; // Public methods\n\nfunction pushTrackingInfoToGtm(trackingId, trackingSource, customDataExtension) {\n  if (!window.dataLayer) {\n    console.warn('`dataLayer` variable is unavailable. Please, check that your Google Tag Manager script is loading before any other script. The tracking might not work correctly!');\n    window.dataLayer = []; // Init empty as fall-back to avoid hard errors\n\n    return;\n  }\n\n  var event,\n      customDataObject = {};\n\n  if (trackingSource && !(typeof trackingSource.altKey === 'undefined')) {\n    // is Event (see https://developer.mozilla.org/en-US/docs/Web/API/Event)\n    event = trackingSource;\n  } else {\n    // is Object with custom properties OR null/undefined\n    customDataObject = trackingSource || {};\n  } // Event supplied -> Extract data automatically based on the type of event\n\n\n  if (event) {\n    // Custom data pre-sets based on event type (https://developer.mozilla.org/en-US/docs/Web/API/Event/type)\n    switch (event.type) {\n      case 'click':\n        customDataObject = {\n          selector: event.target,\n          href: event.currentTarget.href,\n          text: event.currentTarget.text\n        };\n        break;\n\n      default:\n        {\n          console.warn(\"GTM: There is no tracking preset for the event type '\".concat(event.type, \"'. Please, track a different event or pass an Object with custom data that should be sent to Google Tag Manager.\"));\n        }\n    }\n\n    customDataObject.eventType = event.type;\n  } // Extend (and override) with the custom data object (if supplied)\n\n\n  if (customDataExtension) {\n    for (var property in customDataExtension) {\n      if (customDataExtension.hasOwnProperty(property)) {\n        customDataObject[property] = customDataExtension[property];\n      }\n    }\n  }\n\n  var dataLayerObject = {\n    event: trackingId\n  };\n  if (customDataObject) dataLayerObject.custom = customDataObject; // Push to the GTM\n\n  window.dataLayer.push(dataLayerObject);\n}\n\nfunction addGtmTrackingListeners(elementsList, eventType, trackingId) {\n  if (!window.dataLayer) {\n    console.warn('`dataLayer` variable is unavailable. Please, check that your Google Tag Manager script is loading before any other script.');\n    window.dataLayer = []; // Fallback\n\n    return;\n  }\n\n  elementsList.each(function attachTrackingHandlers() {\n    var elementToTrack = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n        trackingEventType = eventType || elementToTrack.attr(GTM_TRACK_ATTRIBUTE) || 'auto',\n        id = trackingId || elementToTrack.attr(GTM_ID_ATTRIBUTE) || elementToTrack[0].id,\n        customDataJsonString = elementToTrack.attr(GTM_DATA_ATTRIBUTE);\n    var customDataObject; // Convert the custom variables string into JSON\n\n    if (customDataJsonString) {\n      try {\n        customDataObject = JSON.parse(customDataJsonString);\n      } catch (err) {\n        console.error(\"The element with tracking ID \".concat(id, \" and its element '\").concat(customDataJsonString, \"' contains JSON string in invalid format. These information will not be pushed into Google Tag Manager...\"), customDataJsonString, err);\n      }\n    }\n\n    if (trackingEventType === 'auto') {// TODO: Determine binding event automatically based on the type of\n      // the element (e.g. <a> => 'click' etc.)\n    } else {\n      elementToTrack.on(trackingEventType, function (event) {\n        pushTrackingInfoToGtm(id, event, customDataObject);\n      });\n    }\n  });\n}\n\nfunction shouldTrackByGtm(element) {\n  element = jquery__WEBPACK_IMPORTED_MODULE_0___default()(element);\n  return Boolean(element.attr(GTM_TRACK_ATTRIBUTE) !== undefined);\n} // Private functions\n\n\nfunction autoregisterGtmTrackingListeners() {\n  addGtmTrackingListeners(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"[\".concat(GTM_TRACK_ATTRIBUTE, \"]\")));\n} // Run after the DOM has loaded...\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n  if (shouldAutoRegister) {\n    /** Auto-register all on-demand elements to automatically start tracking. */\n    setTimeout(autoregisterGtmTrackingListeners, 0);\n  }\n}); // Public API interface\n\nvar trackingApi = {\n  shouldTrackElement: shouldTrackByGtm,\n  trackEvent: pushTrackingInfoToGtm,\n\n  /** Any element or set of elements can be dynamically tracked this way */\n  registerForTracking: addGtmTrackingListeners\n};\n\nfunction overrideOptions() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig,\n      autoRegister = _ref.autoRegister;\n\n  shouldAutoRegister = autoRegister;\n}\n\nvar trackerConfig = overrideOptions;\nvar tracker = trackingApi; // Make API available for modules\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (trackingApi); // For a global imports\n\nwindow.toolkitTracker = function (opts) {\n  overrideOptions(opts);\n  return trackingApi;\n};\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/tracking.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/urls.js":
/*!****************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/urls.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Import 3rd party dependencies\nvar Url = __webpack_require__(/*! ../vendors/url */ \"./src/assets/toolkit/scripts/vendors/url.js\");\n/**\n * An extension of the lightweight `Url.js` library\n * (https://github.com/jillix/url.js/).\n */\n\n\nvar extendedUrlManager = function ExtendUrlManager() {\n  if (window.toolkitUrlManager) {\n    // Available already - do not initialise again!\n    return window.toolkitUrlManager;\n  }\n  /** PUBLIC METHODS */\n\n\n  function onLoadWhenQueryExists(queryName, handlerFunction) {\n    if (Url.queryString(queryName)) {\n      if (window.onDocumentReadyFunctions) {\n        window.onDocumentReadyFunctions.push(handlerFunction);\n      } else {\n        console.warn('`onDocumentReadyFunctions` Array is not available on the global scope - Cannot run the handler function for existing query `%s`.', queryName, handlerFunction);\n      }\n    }\n  } // A) Extend the API of the Url.js\n\n\n  Url.onLoadWhenQueryExists = onLoadWhenQueryExists; // B) Add the extended class to global scope\n\n  window.toolkitUrlManager = Url; // C) Return the extended class.\n\n  return Url;\n}(); // Make the Factory available for Modular JS codebases\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (extendedUrlManager);\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/urls.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/study-areas.js":
/*!***************************************************!*\
  !*** ./src/assets/toolkit/scripts/study-areas.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _accent_map;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar $ = __webpack_require__(/*! jquery */ \"jquery\");\n\n$(function () {\n  //filterTags parameter only needed for postgrad quals filter..\n  function searchFilter(targetElements, searchInput, minQueryLength, filterTags) {\n    var $targetElements = $(targetElements);\n    var $searchInput = $(searchInput);\n    var MIN_QUERY_LENGTH = minQueryLength;\n\n    function noQualsMessage() {\n      //add no quals message\n      if ($(filterTags)) {\n        $('.no-quals-message').remove();\n        var isVisible = 0;\n        var noResultsFilterName = '';\n        $targetElements.each(function () {\n          if ($(this).is(\":visible\")) {\n            isVisible++;\n          } else {}\n        });\n\n        if (isVisible == 0) {\n          var activeFilter = $('.quals-filter .tag.tag-active').text(); // console.log('active filter', activeFilter);\n\n          noResultsFilterName += activeFilter;\n\n          if (activeFilter == 'All') {\n            noResultsFilterName = '';\n          }\n\n          var noQualMessage = '<section class=\"flash-message error no-quals-message\" style=\"margin-top:.5rem;\"><p class=\"\">Sorry, no <strong>' + noResultsFilterName + '</strong> qualifications available. Please try another qualification.</p></section>'; // console.log('no results filter name', noResultsFilterName);\n\n          $('.study-areas-postgrad .quals-filter').after(noQualMessage);\n        }\n      }\n    } // console.time('removing accents from all elements');\n\n\n    $targetElements.each(function () {\n      var $this = $(this);\n      $this.data('search-text', accent_fold($this.find('h2').text()).toLowerCase());\n      $this.data('search-keywords', accent_fold($this.data('search-keywords')).toLowerCase());\n    }); // console.timeEnd('removing accents from all elements');\n    // $('.no-quals-message').remove();\n\n    $searchInput.on('propertychange change click keyup input paste', function (_event) {\n      var _query = _event.currentTarget.value;\n\n      if (_query.length < MIN_QUERY_LENGTH) {\n        $targetElements.toggleClass('is-matching', false);\n        $targetElements.toggleClass('is-not-matching', false);\n        noQualsMessage();\n        return;\n      }\n\n      _query = accent_fold(_query).toLowerCase();\n      $targetElements.each(function () {\n        var $this = $(this);\n\n        if ($this.data('search-text').indexOf(_query) !== -1 || $this.data('search-keywords').indexOf(_query) !== -1) {\n          $this.toggleClass('is-matching', true);\n          $this.toggleClass('is-not-matching', false);\n        } else {\n          $this.toggleClass('is-matching', false);\n          $this.toggleClass('is-not-matching', true);\n        }\n      });\n      noQualsMessage();\n      $('.is-matching').each(function (index) {\n        //for each breakpoint\n        if (window.matchMedia(\"(min-width: 88em)\").matches) {\n          alignGrid(4, index, $(this), '.is-matching');\n        }\n\n        if (window.matchMedia(\"(max-width: 87.99em) and (min-width: 61em)\").matches) {\n          alignGrid(3, index, $(this), '.is-matching');\n        }\n\n        if (window.matchMedia(\"(max-width: 60.99em) and (min-width: 43em)\").matches) {\n          alignGrid(2, index, $(this), '.is-matching');\n        }\n\n        if (index === 0) {\n          $(this).css('margin-left', '0');\n        }\n      });\n    });\n    var tags = $(filterTags);\n\n    function alignGrid(cols, index, tile, filter) {\n      //resets margins for grid\n      tile.css({\n        'margin-right': '0.375rem'\n      });\n      tile.css({\n        'margin-left': '0.375rem'\n      });\n\n      if ((index + 1) % cols === 0) {\n        tile.css('margin-right', '0%'); //Need set time out to make sure style is applied\n\n        setTimeout(function () {\n          tile.nextAll(filter).first().css({\n            'margin-left': '0rem'\n          });\n        }, 75);\n      }\n    }\n\n    ;\n\n    if (tags !== null) {\n      tags.each(function () {\n        //on tag click update input to filter\n        $(this).on('click', function (e) {\n          $(this).siblings().removeClass('tag-active');\n          $(this).addClass('tag-active');\n\n          if ($(this).text() !== \"All\") {\n            // $(searchInput).val('');\n            // $(searchInput).val($(this).text()).change();\n            var tag = $(this).text().toLowerCase(); // console.log(tag);\n\n            $targetElements.each(function () {\n              var $this = $(this); // console.log('tile', $this.data());\n\n              if ($this.data('search-text').indexOf(tag) !== -1 || $this.data('search-keywords').indexOf(tag) !== -1) {\n                $this.toggleClass('show-filter', true);\n                $this.toggleClass('hide-filter', false);\n              } else {\n                $this.toggleClass('show-filter', false);\n                $this.toggleClass('hide-filter', true);\n              }\n            });\n            noQualsMessage();\n            $(this).css('margin-right', ''); //update margins to prevent grid breaking\n\n            $('.show-filter').each(function (index) {\n              //for each breakpoint\n              if (window.matchMedia(\"(min-width: 88em)\").matches) {\n                alignGrid(4, index, $(this), '.show-filter');\n              }\n\n              if (window.matchMedia(\"(max-width: 87.99em) and (min-width: 61em)\").matches) {\n                alignGrid(3, index, $(this), '.show-filter');\n              }\n\n              if (window.matchMedia(\"(max-width: 60.99em) and (min-width: 43em)\").matches) {\n                alignGrid(2, index, $(this), '.show-filter');\n              }\n\n              if (index === 0) {\n                $(this).css('margin-left', '0');\n              }\n            });\n          } else {\n            // $(searchInput).val('').change();\n            $(targetElements).css({\n              'margin-right': '',\n              'margin-left': ''\n            });\n            $('.no-quals-message').remove();\n            $targetElements.toggleClass('show-filter', true);\n            $targetElements.toggleClass('hide-filter', false);\n          }\n        });\n      });\n    }\n  }\n\n  searchFilter('.postgrad-quals li', '#search-quals', 3, '.quals-filter .tag');\n  searchFilter('#areas-of-study li', '#search-aos', 3);\n}); //alistapart.com/article/accent-folding-for-auto-complete\n\nvar accent_map = (_accent_map = {\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'f',\n  '': 'f',\n  '': 'f',\n  '': 'f',\n  '': 'f',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  'H': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  'i': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  'I': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'j',\n  '': 'j',\n  'J': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'a',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l'\n}, _defineProperty(_accent_map, \"\\u0141\", 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, \"\\u0142\", 'l'), _defineProperty(_accent_map, \"\\u0323\", 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'l'), _defineProperty(_accent_map, '', 'm'), _defineProperty(_accent_map, '', 'm'), _defineProperty(_accent_map, '', 'm'), _defineProperty(_accent_map, '', 'm'), _defineProperty(_accent_map, '', 'm'), _defineProperty(_accent_map, '', 'm'), _defineProperty(_accent_map, '', 'm'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, 'N', 'n'), _defineProperty(_accent_map, '', 'n'), _defineProperty(_accent_map, 'n', 'n'), _defineProperty(_accent_map, \"\\u0308\", 'n'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'o'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, 'P', 'p'), _defineProperty(_accent_map, '', 'p'), _defineProperty(_accent_map, 'p', 'p'), _defineProperty(_accent_map, \"\\u0303\", 'p'), _defineProperty(_accent_map, '', 'q'), _defineProperty(_accent_map, '', 'q'), _defineProperty(_accent_map, '', 'q'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 'r'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, 'S', 's'), _defineProperty(_accent_map, '', 's'), _defineProperty(_accent_map, 's', 's'), _defineProperty(_accent_map, \"\\u0329\", 's'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, 'T', 't'), _defineProperty(_accent_map, \"\\u0308\", 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 't'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'u'), _defineProperty(_accent_map, '', 'v'), _defineProperty(_accent_map, '', 'v'), _defineProperty(_accent_map, '', 'v'), _defineProperty(_accent_map, '', 'v'), _defineProperty(_accent_map, '', 'v'), _defineProperty(_accent_map, '', 'v'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, 'W', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'w'), _defineProperty(_accent_map, '', 'x'), _defineProperty(_accent_map, '', 'x'), _defineProperty(_accent_map, '', 'x'), _defineProperty(_accent_map, '', 'x'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, 'Y', 'y'), _defineProperty(_accent_map, \"\\u030A\", 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'y'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _defineProperty(_accent_map, '', 'z'), _accent_map);\n\nfunction accent_fold(s) {\n  if (!s) {\n    return '';\n  }\n\n  var ret = '';\n\n  for (var i = 0; i < s.length; i++) {\n    ret += accent_map[s.charAt(i)] || s.charAt(i);\n  }\n\n  return ret;\n}\n\n;\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/study-areas.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/toolkit.js":
/*!***********************************************!*\
  !*** ./src/assets/toolkit/scripts/toolkit.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var headroom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! headroom.js */ \"./node_modules/headroom.js/dist/headroom.js\");\n/* harmony import */ var headroom_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(headroom_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var enquire_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! enquire.js */ \"./node_modules/enquire.js/src/index.js\");\n/* harmony import */ var enquire_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(enquire_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lity */ \"./node_modules/lity/dist/lity.js\");\n/* harmony import */ var lity__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lity__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var picturefill__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! picturefill */ \"./node_modules/picturefill/dist/picturefill.js\");\n/* harmony import */ var picturefill__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(picturefill__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _modules_tracking__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/tracking */ \"./src/assets/toolkit/scripts/modules/tracking.js\");\n/* harmony import */ var _modules_popups__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/popups */ \"./src/assets/toolkit/scripts/modules/popups.js\");\n/* harmony import */ var _modules_tooltips__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/tooltips */ \"./src/assets/toolkit/scripts/modules/tooltips.js\");\n/* harmony import */ var _modules_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/core */ \"./src/assets/toolkit/scripts/modules/core.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/helpers */ \"./src/assets/toolkit/scripts/utils/helpers.js\");\n/** !Toolkit's core JS */\n\n/* DEPENDENCIES & 3RD PARTY LIBRARIES IMPORTS */\n\n\n\n\n // Include all standalone modules\n\n\n\n // Core libs\n\n // Import helpers\n\n // Initialise dependencies\n\nObject(_modules_tracking__WEBPACK_IMPORTED_MODULE_5__[\"trackerConfig\"])({\n  autoRegister: true\n}); // Export useful dependencies to the global namespace (~ window) so that\n//  they can be used outside of this toolkit.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({});\n\n__webpack_require__(/*! ./study-areas.js */ \"./src/assets/toolkit/scripts/study-areas.js\"); // TODO: set up multiple entry points for webpack bundles\n\n/* CONSTANT ATTRIBUTES */\n\n\nvar TRANSITION_TIMEOUT = 200; //update in _settings.variables.scss(135)\n\nvar MOBILE_LARGE_AND_SMALLER = 'screen and (max-width: 42.99em)',\n    //update in _settings.responsive.scss(57)\nDESKTOP_AND_LARGER = 'screen and (min-width: 61em)',\n    TABLET_AND_SMALLER = 'screen and (max-width: 975px)',\n    // Iframe selectors\nYOUTUBE_IFRAME_SELECTOR = 'iframe[src*=\"youtube\"]',\n    GMAPS_IFRAME_SELECTOR = 'iframe[src*=\"/maps/\"]',\n    VIMEO_IFRAME_SELECTOR = 'iframe[src*=\"vimeo\"]';\n/* SUPPORTING FUNCTIONS */\n\n/** Wrap YT videos in .embed wrapper that helps with responsiveness. */\n\nfunction wrapEmbeddedIframes() {\n  var iframes = jquery__WEBPACK_IMPORTED_MODULE_0___default()(YOUTUBE_IFRAME_SELECTOR + ', ' + GMAPS_IFRAME_SELECTOR + ', ' + VIMEO_IFRAME_SELECTOR),\n      singleIframe = null,\n      iframeClasses;\n  iframes.each(function (index) {\n    singleIframe = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this); // If it doesn't already have wrapper, wrap it!\n\n    if (!singleIframe.parent().hasClass('embed')) {\n      iframeClasses = singleIframe.attr(\"class\") || '';\n      singleIframe.wrap('<div class=\"embed ' + iframeClasses + '\"></div>');\n      if (iframeClasses) singleIframe.removeClass();\n    }\n  });\n}\n/** Deletes all study areas tiles that are display: none from DOM to\nkeep the markup clean (and easily handled by the CSS) */\n\n\nfunction removedUnusedTiles() {\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.tiles-wrap .tile').each(function () {\n    if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).css(\"display\") == \"none\") {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).remove();\n    }\n  });\n}\n\nvar SIDEMENU_CLASS = 'sidemenu';\nvar SIDEMENU_TOGGLE_CLASS = 'sidemenu-toggle';\nvar SIDEMENU_EXPANDER_CLASS = 'btn-expander';\nvar SIDEMENU_SUBMENU_CLASS = 'has-submenu';\nvar SIDEMENU_SELECTED_ITEM_CLASS = 'active';\nvar SIDEMENU_EXPANDED_CLASS = 'expanded';\n/** PRIVATE FUNCTIONS. */\n\nfunction initExpandableSubmenu() {\n  var expandableButtonElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n  var submenuContainer = expandableButtonElement.parent('.' + SIDEMENU_SUBMENU_CLASS); // Init default state\n\n  var isExpanded = submenuContainer.hasClass(SIDEMENU_SELECTED_ITEM_CLASS);\n\n  function apply() {\n    if (isExpanded) {\n      submenuContainer.addClass(SIDEMENU_EXPANDED_CLASS);\n    } else {\n      submenuContainer.removeClass(SIDEMENU_EXPANDED_CLASS);\n    }\n  } // Init\n\n\n  apply(); // Bind `click` events to all expandable buttons\n\n  expandableButtonElement.on('click', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    isExpanded = !isExpanded;\n    apply();\n  });\n}\n\nfunction initSidemenuExpandability() {\n  var menuElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.' + SIDEMENU_CLASS);\n  enhanceSidemenu(menuElement); // Expanding/Collapsing of the entire side menu on mobile devices\n\n  menuElement.children('.' + SIDEMENU_TOGGLE_CLASS).children('a').on('click', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parent().toggleClass(SIDEMENU_EXPANDED_CLASS);\n  });\n  var expandableButtons = menuElement.find('.' + SIDEMENU_EXPANDER_CLASS); // Add tracking if enabled\n\n  if (_modules_tracking__WEBPACK_IMPORTED_MODULE_5__[\"tracker\"].shouldTrackElement(menuElement)) {\n    _modules_tracking__WEBPACK_IMPORTED_MODULE_5__[\"tracker\"].registerForTracking(menuElement.find('li > a'), 'click', 'sidemenu-link');\n    _modules_tracking__WEBPACK_IMPORTED_MODULE_5__[\"tracker\"].registerForTracking(expandableButtons, 'click', 'sidemenu-expander');\n  }\n\n  expandableButtons.each(initExpandableSubmenu);\n} //TODO: Remove after this was implemented on the backend (~ in Squiz)\n\n/** Adds necessary classes and expanding/collapsing elements if the item has got submenu. */\n\n\nvar btnExpanderHtml = '<span class=\"btn-expander\" title=\"Toggle subpages\"></span>';\n\nfunction enhanceSidemenu(menuElement) {\n  menuElement.find('li').each(function () {\n    var listItem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this); // a) already has got a proper class in place? Skip!\n\n    if (listItem.hasClass(SIDEMENU_SUBMENU_CLASS)) return; // b) No submenu in <li>? Skip!\n\n    if (listItem.children('ul').length === 0) return; // c) Has got a submenu => Enhance sidemenu's HTML\n\n    listItem.addClass(SIDEMENU_SUBMENU_CLASS);\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(btnExpanderHtml).insertAfter(listItem.children('a'));\n  });\n}\n/** HELPERS */\n//FIXME: Should be automatically pre-populated from the build/build.config.js\n\n\nvar ENV_HOSTNAME = {\n  STAGE: 'cms.victoria.ac.nz',\n  PROD: 'www.victoria.ac.nz',\n  LOCAL: 'local.victoria.ac.nz'\n}; //FIXME: Should be automatically pre-populated from the build/build.config.js\n\nvar URL_BASE = {\n  TOOLKIT: 'local.victoria.ac.nz:8080'\n};\n\nfunction isAdminEnvironment() {\n  return window.location.hostname === ENV_HOSTNAME.STAGE || window.location.hostname === ENV_HOSTNAME.LOCAL;\n}\n/**\n * Decodes email address into re-usable form.\n *\n * @deprecated Very old approach that won't work today - do not use.\n */\n\n\nfunction decodeMailAddresses() {\n  var a = 'dre:ams0of@g1niht.lp2c9u3v8k4w7y5j6zbx-_qfntigue6los5zar7b:y4dp8v3m9h2.x1w@k0jcq-_';\n  var i, h, j, k, l, m, n, s;\n\n  for (i = 0; i < document.links.length; i += 1) {\n    h = document.links[i].hash;\n\n    if (h.substring(0, 3) == '#sd') {\n      k = '';\n      l = h.substring(3, 5);\n      m = h.lastIndexOf('?subject=');\n\n      if (m == -1) {\n        s = document.links[i].href;\n      } else {\n        s = h.substring(m);\n        h = h.substring(0, m);\n      }\n\n      ;\n\n      for (j = 5; j < h.length; j += 2) {\n        k = k + a.charAt(h.substring(j, j + 2) - l - 1);\n      }\n\n      ;\n      m = s.lastIndexOf('?subject=');\n\n      if (m == -1) {\n        document.links[i].href = k;\n      } else {\n        document.links[i].href = k + s.substring(m);\n      }\n\n      ;\n      n = document.links[i].innerHTML;\n\n      if (n == 'address') {\n        document.links[i].innerHTML = k.substring(7);\n      } else {\n        document.links[i].title = k.substring(7);\n      }\n\n      ;\n    }\n\n    ;\n  }\n\n  ;\n}\n/** MESSAGE/NOTIFICATIONS HANDLING */\n\n\nvar ERROR_TYPES = {\n  SIDEBAR_WIDGETS_COUNT_EXCEEDED: 'sidebar-widgets-count-exceeded'\n};\n/**\n * Renders the error message notification and adds it to the top of the\n * content window. Will show only to administrators within non-production\n * environments.\n *\n * @param {{type: string, message: string, invalidItems: Array[string]}} errorObject\n *\n * @returns {void}\n */\n\nfunction showAdminErrorMessage(errorObject) {\n  if (!errorObject || !isAdminEnvironment()) return;\n  var invalidItemsListHtml;\n\n  if (errorObject.invalidItems.length > 0) {\n    invalidItemsListHtml = \"\\n      <ul>\\n        <li>\".concat(errorObject.invalidItems.join('</li><li>'), \"</li>\\n      </ul>\\n    \");\n  } // Template\n\n\n  var errorNotificationHtml = \"\\n    <section class=\\\"flash-message error\\\">\\n      \".concat(errorObject.message, \"\\n      \").concat(invalidItemsListHtml, \"\\n    </section>\\n  \");\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.content-panel > main > .formatting').prepend(errorNotificationHtml);\n  console.error('Content-related error has occured', errorObject);\n}\n/** NAVIGATION */\n\n/**\n * Adds the 'active' class to a main menu item\n * that corresponds with the current top-level URL path\n * segment.\n *\n * Note: This is *only* done due to Squiz 5.4 limitations. Once we can render\n * this class on the backend, this function can be deprecated.\n */\n\n\nfunction addActiveClassToMainMenu() {\n  // [url-path-segment]: [nav-item-classname]\n  var rootPages = {\n    'future': 'future',\n    'international': 'international',\n    'current': 'current',\n    'research': 'research',\n    'learning-teaching': 'learning-teaching'\n  },\n      urlPathSegments = window.location.pathname.split('/');\n\n  if (urlPathSegments.length > 1 && urlPathSegments[1] !== '' && Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_9__[\"hasProp\"])(rootPages, urlPathSegments[1])) {\n    var activeNavItemClass = rootPages[urlPathSegments[1]];\n    var activeNavItem = document.querySelector(\".menu-bar .\".concat(activeNavItemClass));\n    if (activeNavItem) activeNavItem.classList.add('active');\n  }\n}\n/** CONTENT DYNAMIC MANIPULATIONS */\n\n/**\n * Moves `non-staff` contact cards into the previous/next <ul> with\n * regular staff.\n *\n * @deprecated This approach should not be used in new updates! Please, follow\n * clear syntax, so you don't have to move elements around.\n *\n * Notice: This is required to deal with structural and visual\n * inconsistencies that stem from legacy code that powers rendering\n * of non-staff contact cards. Once this is removed, this slow\n * function can be removed too.\n */\n\n\nvar STAFF_LIST_CONTAINER_CLASSNAME = 'articles-container',\n    STAFF_LIST_CLASSNAME = 'staff-list',\n    STAFF_CONTACT_CLASSNAME = 'contact';\n\nfunction moveOrphanedStaffCardIntoList() {\n  var orphanBeforeStaffList = document.querySelector(\".\".concat(STAFF_CONTACT_CLASSNAME, \" + .\").concat(STAFF_LIST_CONTAINER_CLASSNAME));\n  var orphanAfterStaffList = document.querySelector(\".\".concat(STAFF_LIST_CONTAINER_CLASSNAME, \" + .\").concat(STAFF_CONTACT_CLASSNAME));\n  if (!orphanBeforeStaffList && !orphanAfterStaffList) return;\n\n  while (orphanAfterStaffList) {\n    var orphanedStaffCardElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()(orphanAfterStaffList);\n    var staffListElement = orphanedStaffCardElement.prev().children(\".\".concat(STAFF_LIST_CLASSNAME));\n\n    if (staffListElement.length === 0) {\n      // Staff list is not within its container - abort\n      console.warn(\"The 'non-staff' profile could not be placed within the list of other 'staff' profiles, beceause the *previous* block does not contain '\".concat(STAFF_LIST_CLASSNAME, \"' class. You might experience visual inconsistencies.\"), orphanAfterStaffList, staffListElement);\n      return;\n    }\n\n    var listItem = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<li></li>').append(orphanedStaffCardElement);\n    staffListElement.append(listItem);\n    orphanAfterStaffList = document.querySelector(\".\".concat(STAFF_LIST_CONTAINER_CLASSNAME, \" + .\").concat(STAFF_CONTACT_CLASSNAME));\n  } // Has to be re-evaluated again to reflect the previous content manipulations\n\n\n  orphanBeforeStaffList = document.querySelector(\".\".concat(STAFF_CONTACT_CLASSNAME, \" + .\").concat(STAFF_LIST_CONTAINER_CLASSNAME));\n\n  while (orphanBeforeStaffList) {\n    var _orphanedStaffCardElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()(orphanBeforeStaffList).prev(\".\".concat(STAFF_CONTACT_CLASSNAME)); // Current selector is pointing to the <ul> - point to the previous sibling instead!\n\n\n    var _staffListElement = _orphanedStaffCardElement.next().children(\".\".concat(STAFF_LIST_CLASSNAME));\n\n    if (_staffListElement.length === 0) {\n      // Staff list is not within its container - abort\n      console.warn(\"The 'non-staff' profile could not be placed within the list of other 'staff' profiles, beceause the *following* block does not contain '\".concat(STAFF_LIST_CLASSNAME, \"' class. You might experience visual inconsistencies.\"), _orphanedStaffCardElement, _staffListElement);\n      break;\n    }\n\n    var _listItem = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<li></li>').append(_orphanedStaffCardElement);\n\n    _staffListElement.prepend(_listItem);\n\n    orphanBeforeStaffList = document.querySelector(\".\".concat(STAFF_CONTACT_CLASSNAME, \" + .\").concat(STAFF_LIST_CONTAINER_CLASSNAME));\n  }\n}\n/**\n * Because two sets of taught courses are rendered (one located at the top\n * of the page, one at the bottom), it hides the other, non-used counterpart.\n *\n * @deprecated\n *\n * Note: This is legacy code and can be removed when the backend renders\n * only one set of taught courses.\n */\n\n\nfunction hideCoursesOnStaffProfile() {\n  if (!window.courseLocation) return;\n\n  if (window.courseLocation === 'top') {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#courses-bottom').css({\n      display: 'none'\n    });\n  }\n\n  if (window.courseLocation === 'bottom') {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#courses-top').css({\n      display: 'none'\n    });\n  }\n}\n/** CONTENT SIDE-BAR */\n// Constants\n\n\nvar SIDEBAR_WIDGET_CLASSNAME = 'data-sidebar',\n    SIDEBAR_ID = 'rightHandMenu',\n    SIDEBAR_WIDGETS_MAX = 3,\n    WIDGET_LINKS_CLASSNAME = 'data-relatedLinks';\n/**\n * Finds all widget blocks within the main content and moves them into the\n * right-hand sidebar.\n *\n * Note: This is *only* done due to Squiz 5.4 limitations. Once we can render\n * widgets into the sidebar on our backend, this client-side solution can be\n * deprecated.\n *\n * @returns {void}\n */\n\nfunction moveWidgetsToSidebar() {\n  // No widgets OR sidebar available -> Skip!\n  if (!document.querySelector(\".\".concat(SIDEBAR_WIDGET_CLASSNAME)) || !document.getElementById(SIDEBAR_ID)) return; // Members\n  // Original, unordered widgets\n\n  var widgetsToMove = jquery__WEBPACK_IMPORTED_MODULE_0___default()(\".\".concat(SIDEBAR_WIDGET_CLASSNAME)),\n      sidebarElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"#\".concat(SIDEBAR_ID)); // Correctly ordered and prepared to be rendered\n\n  var widgetsMoved = [];\n  var error;\n  widgetsToMove.each(function moveWidgetToSidebar() {\n    var widgetElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n    if (widgetsMoved.length >= SIDEBAR_WIDGETS_MAX) {\n      if (!error) {\n        error = {\n          type: ERROR_TYPES.SIDEBAR_WIDGETS_COUNT_EXCEEDED,\n          message: \"\\n              <h2>Too many elements in the sidebar</h2>\\n              <p>Currently added: \".concat(widgetsToMove.length, \", Maximum: \").concat(SIDEBAR_WIDGETS_MAX, \".</p>\\n              <p>\\n                <strong>Please remove the class '\").concat(SIDEBAR_WIDGET_CLASSNAME, \"' from all blocks you do not want to appear in the sidebar.</strong>\\n              </p>\\n              <p>\\n                The blocks with following content will not be shown in the sidebar:\\n              </p>\\n            \"),\n          invalidItems: []\n        };\n      }\n\n      error.invalidItems.push(this.id || \"\".concat(widgetElement.text().trim().substring(0, 80), \"...\"));\n      return;\n    }\n\n    if (widgetElement.hasClass(WIDGET_LINKS_CLASSNAME)) {\n      // A) Staff profile - add to the top!\n      widgetsMoved.unshift(widgetElement);\n    } else {\n      // B) Others (downloads, publications etc.) - Add to the last positions\n      widgetsMoved.push(widgetElement);\n    } // Remove from its original location\n\n\n    widgetElement.detach(); // Remove `display:none` if it exists\n\n    widgetElement.css('display', '');\n  }); // Render widgets in the sidebar\n\n  sidebarElement.append.apply(sidebarElement, widgetsMoved); // Render errors, if any\n\n  if (error) showAdminErrorMessage(error);\n}\n/** 'GO UP' BUTTON */\n\n\nvar BTN_UP_ID = 'btn-up',\n    BTN_ADMIN_EDIT_ID = 'btn-admin',\n    // ADMIN_URL_EXTENSION = '_edit', // Uncomment if the button and URL cannot be rendered by Squiz!\nSCROLL_ANIMATION_DURATION_IN_MS = 700;\n\nfunction initFloatingButtons() {\n  var buttonUpElement = document.getElementById(BTN_UP_ID),\n      buttonAdminElement = isAdminEnvironment() ? document.getElementById(BTN_ADMIN_EDIT_ID) : null;\n\n  if (buttonUpElement) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(buttonUpElement).click(function (e) {\n      e.preventDefault();\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('html,body').animate({\n        scrollTop: 0\n      }, SCROLL_ANIMATION_DURATION_IN_MS);\n    });\n  }\n\n  if (buttonAdminElement) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(buttonAdminElement).css('display', ''); // Remove inline 'display'\n    // Uncomment if the button and URL cannot be rendered by Squiz!\n    // $( buttonAdminElement ).click( ( e ) => {\n    //  e.preventDefault();\n    //    window.location.href += `/${ADMIN_URL_EXTENSION}`;\n    // })\n  }\n}\n/** INITIALISE ON SCRIPT LOAD. */\n\n\n(function init() {\n  Object(_modules_core__WEBPACK_IMPORTED_MODULE_8__[\"initToolbarLoader\"])();\n  Object(_modules_core__WEBPACK_IMPORTED_MODULE_8__[\"initToolbarUrlListeners\"])();\n})();\n/** INITIALISE ON DOM LOAD. */\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n  moveWidgetsToSidebar();\n  addActiveClassToMainMenu();\n  moveOrphanedStaffCardIntoList();\n  _modules_tooltips__WEBPACK_IMPORTED_MODULE_7__[\"default\"].initTooltips(); // FIXME: Extract out to a standalone plugin and run on staff profiles *only*\n\n  hideCoursesOnStaffProfile();\n  var $body = jquery__WEBPACK_IMPORTED_MODULE_0___default()('body'),\n      $globalNav = jquery__WEBPACK_IMPORTED_MODULE_0___default()('#global-nav'),\n      $globalSearch = jquery__WEBPACK_IMPORTED_MODULE_0___default()('#global-search');\n  /** Init side-menu, if it's present */\n\n  if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(\".\".concat(SIDEMENU_CLASS)).length) {\n    initSidemenuExpandability();\n  }\n\n  initFloatingButtons();\n  decodeMailAddresses(); //http://wicky.nilia.ms/enquire.js/\n  //TODO: Refactor and extract to its own library\n\n  enquire_js__WEBPACK_IMPORTED_MODULE_2___default.a.register(MOBILE_LARGE_AND_SMALLER, function () {\n    if ($globalNav.length) {\n      var menuOutsideClickListener = function menuOutsideClickListener(event) {\n        if (!jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.target).closest('#global-nav').length) {\n          toggleMobileMenu();\n        }\n      };\n\n      var eGlobalNav = $globalNav[0],\n          bannerHeaderElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.site-header'),\n          sidemenu = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.sidemenu');\n      var headroom = new headroom_js__WEBPACK_IMPORTED_MODULE_1___default.a(eGlobalNav, {\n        'offset': $globalNav.outerHeight(),\n        // or scroll tolerance per direction\n        tolerance: {\n          down: 5,\n          up: 20\n        },\n        'classes': {\n          'initial': 'sticky',\n          'pinned': 'slide-down',\n          'unpinned': 'slide-up',\n          'notTop': 'no-top'\n        }\n      });\n      headroom.init();\n\n      var disableHeadroom = function disableHeadroom() {\n        if (headroom) {\n          headroom.scroller.removeEventListener('scroll', headroom.debouncer, false);\n        }\n      };\n\n      var enableHeadroom = function enableHeadroom() {\n        if (headroom) {\n          headroom.scroller.addEventListener('scroll', headroom.debouncer, false);\n        }\n      };\n\n      var removeMenuOutClickListener = function removeMenuOutClickListener() {\n        document.removeEventListener('click', menuOutsideClickListener);\n      };\n\n      var registerMenuOutClickListener = function registerMenuOutClickListener() {\n        document.addEventListener('click', menuOutsideClickListener);\n      };\n\n      var toggleMobileMenu = function toggleMobileMenu() {\n        $globalNav.find('.tcon').toggleClass('tcon-transform');\n        $globalNav.toggleClass('is-open');\n        if (!headroom) return;\n\n        if ($globalNav.hasClass('is-open')) {\n          disableHeadroom();\n          $body.addClass('unscrollable');\n          registerMenuOutClickListener();\n        } else {\n          enableHeadroom();\n          $body.removeClass('unscrollable');\n          removeMenuOutClickListener();\n        }\n      };\n\n      ;\n      $body.on('click ', '.js-toggle-global-nav', function (_event) {\n        toggleMobileMenu();\n      });\n    }\n  }); // Opens/closes global search bar & gains auto-focus\n\n  $body.on('click ', '.js-toggle-global-search', function (_event) {\n    var $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n    if ($this.data('js-has-active-transition')) {\n      return false;\n    }\n\n    $this.data('js-has-active-transition', true);\n    $this.find('.tcon').toggleClass('tcon-transform');\n\n    if ($globalSearch.hasClass('is-open')) {\n      $globalSearch.toggleClass('is-open', false);\n      setTimeout(function () {\n        $this.data('js-has-active-transition', false);\n      }, TRANSITION_TIMEOUT);\n    } else {\n      $globalSearch.toggleClass('is-open', true);\n      setTimeout(function () {\n        $globalSearch.find('input:text').focus();\n        $this.data('js-has-active-transition', false);\n      }, TRANSITION_TIMEOUT);\n    }\n\n    _event.preventDefault();\n  }); //Study areas tabs toggle\n\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('#study-area-tabs li a').click(function () {\n    if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parent().hasClass('active')) {\n      return;\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.active').removeClass('active');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parent().addClass('active');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.study-areas').toggleClass('hidden');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.degrees-quals').toggleClass('hidden');\n  });\n  /* Show the tab content that is selected */\n\n  if (document.getElementById('undergraduate') && document.getElementById('undergraduate').checked) {\n    switchTabToUndergrad();\n  } else if (document.getElementById('postgraduate') && document.getElementById('postgraduate').checked) {\n    switchTabToPostgrad();\n  }\n\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.switch .switch-input').on('change', function () {\n    if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('value') == 'undergraduate') {\n      switchTabToUndergrad();\n    }\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('value') == 'postgraduate') {\n      switchTabToPostgrad();\n    }\n  });\n\n  function switchTabToUndergrad() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#study-area-tabs > ul > li:nth-child(1) h4').html('<span class=\"icon-book-open\"></span>Subject areas');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.study-areas-undergrad').show(500);\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.study-areas-postgrad').hide(500);\n  }\n\n  function switchTabToPostgrad() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#study-area-tabs > ul > li:nth-child(1) h4').html('<span class=\"icon-book-open\"></span> Postgraduate subjects');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.study-areas-postgrad').show(500);\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.study-areas-undergrad').hide(500);\n  }\n  /* dynamic height for tiles. setting height of all tiles from largest tile height */\n\n\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.dynamic-height-tiles ').each(function (n) {\n    //get array of heights for each group of class\n    var tileHeights = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).find('li.tile').map(function () {\n      return jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).height();\n    }).get(); //check heights for largest\n\n    var maxHeight = Math.max.apply(null, tileHeights); //apply maxheight to tiles\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).find('li.tile').height(maxHeight + 16);\n  });\n  /* Navigation toggle on mobile */\n\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.main-menu-toggle').on('click', function () {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.main-nav').slideToggle();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.sub-nav').slideToggle();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.search-bar').slideToggle();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.menu-toggle-icon').toggleClass('open');\n  });\n  /* Show search bar on desktop */\n\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.search-item').on('click', function () {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.search-bar').slideToggle();\n    var searchInputElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()('#search-query');\n\n    if (searchInputElement.is(':visible')) {\n      searchInputElement.focus();\n    }\n  });\n  /** DOM manipulation */\n\n  wrapEmbeddedIframes();\n  removedUnusedTiles(); //TODO: Review - Can be removed after all the study areas are migrated\n  //tile accordion\n\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.tile-accordion .tile').not('.tile-accordion.content-page').on('click', function (evt) {\n    // evt.preventDefault();\n    if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).hasClass('accordion-closed')) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).children('.accordion-content ').slideDown();\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).removeClass('accordion-closed').addClass('accordion-open');\n    } else if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).hasClass('accordion-open')) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).children('.accordion-content ').slideUp();\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).removeClass('accordion-open').addClass('accordion-closed');\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).find('.links a').on('click', function (event) {\n      event.stopPropagation();\n    });\n  });\n  /** Runs any custom scripts that could be added in the content. */\n\n  if (onDocumentReadyFunctions && onDocumentReadyFunctions.length) {\n    onDocumentReadyFunctions.forEach(function (singleFunction) {\n      singleFunction();\n    });\n  }\n});\n/* Research hub content page tile accordian */\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()('.tile-accordion.content-page .tile .toggle').on('click', function (evt) {\n  var $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n  $this.toggleClass('expanded');\n  $this.siblings('p').toggle();\n});\n/* Add accessible title label for restricted links class  */\n\nfunction restrictedLinkTitle() {\n  var lockLinks = document.querySelectorAll('.link-restricted');\n\n  for (var i = 0; i < lockLinks.length; i++) {\n    lockLinks[i].setAttribute('title', 'Restricted intranet link');\n  }\n}\n\nrestrictedLinkTitle();\n/* Research hub mega menu */\n\nfunction hubMegaMenu() {\n  var menu = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.hub-mega-menu .mega-menu-inner');\n  var menuExpandButton = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.hub-mega-menu .btn-expander');\n  var mobile = false;\n  var desktop = false;\n  enquire_js__WEBPACK_IMPORTED_MODULE_2___default.a.register(DESKTOP_AND_LARGER, function () {\n    desktop = true;\n    mobile = false;\n  });\n  enquire_js__WEBPACK_IMPORTED_MODULE_2___default.a.register(TABLET_AND_SMALLER, function () {\n    desktop = false;\n    mobile = true;\n  });\n  menuExpandButton.each(function () {\n    var _this = this;\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).on('click', function (c) {\n      var $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(_this);\n\n      if (desktop) {\n        menu.toggleClass('expanded');\n      }\n\n      if (mobile) {\n        menu.addClass('expanded');\n        $this.parent().toggleClass('js-dropdown-show');\n      }\n    });\n  });\n}\n\nfunction hubMegaMenu2() {\n  var menu = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.hub-mega-menu .mega-menu-inner');\n  var menuExpandButton = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.hub-mega-menu .btn-expander').parent();\n  var mobile = false;\n  var desktop = false;\n  enquire_js__WEBPACK_IMPORTED_MODULE_2___default.a.register(DESKTOP_AND_LARGER, function () {\n    desktop = true;\n    mobile = false;\n  });\n  enquire_js__WEBPACK_IMPORTED_MODULE_2___default.a.register(TABLET_AND_SMALLER, function () {\n    desktop = false;\n    mobile = true;\n  });\n  menuExpandButton.each(function () {\n    var $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this); //Create and append Title to list of expanded links\n\n    var title = $this.children('a').text();\n    var titleLink = $this.children('a').attr('href');\n    var newLink = \"<li class=\\\"js-inject-title\\\"><a href=\\\"\".concat(titleLink, \"\\\"> \").concat(title, \" </a></li>\");\n    $this.children('ul').prepend(newLink); // subnav expand function\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).on('click', function (c) {\n      c.preventDefault();\n\n      if (desktop) {\n        menu.toggleClass('expanded');\n      }\n\n      if (mobile) {\n        menu.addClass('expanded');\n        $this.toggleClass('js-dropdown-show');\n      }\n    });\n  });\n}\n\nif (document.getElementsByClassName('hub-mega-menu').length > 0 && !document.getElementsByClassName('mega-menu-bar').length > 0) {\n  var hubMegaMenuElement = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.hub-mega-menu');\n  var megaMenuExpandButton = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.hub-mega-menu .btn-expander');\n  hubMegaMenu();\n\n  if (_modules_tracking__WEBPACK_IMPORTED_MODULE_5__[\"tracker\"].shouldTrackElement(hubMegaMenuElement)) {\n    _modules_tracking__WEBPACK_IMPORTED_MODULE_5__[\"tracker\"].registerForTracking(hubMegaMenuElement.find('li > a'), 'click', 'megamenu-link');\n    _modules_tracking__WEBPACK_IMPORTED_MODULE_5__[\"tracker\"].registerForTracking(megaMenuExpandButton, 'click', 'megamenu-expander');\n  }\n}\n/* New hub mega menu */\n\n\nif (document.getElementsByClassName('hub-mega-menu').length > 0 && document.getElementsByClassName('mega-menu-bar').length > 0) {\n  hubMegaMenu2();\n  console.log('new menu bar strip thing cool ');\n}\n\nfunction openPopup() {\n  _modules_popups__WEBPACK_IMPORTED_MODULE_6__[\"default\"].initAndOpen(this[0]);\n  return this;\n}\n/**\n * jQuery's plugin as a utility factory\n * Usage as: $( jquerySelector ).vicApp().method( options )\n */\n\n\n(function ($) {\n  $.fn.vicApp = function () {\n    return {\n      openPopup: openPopup.bind(this)\n    };\n  };\n})(jQuery);\n\nif (document.getElementsByClassName('calendar-cards').length > 0) {\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"#search-filter\").on(\"keyup search\", function () {\n    var value = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).val().toLowerCase(); // if input 3 or more filter\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).val().length >= 2) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(\".calendar-cards .card\").filter(function () {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).toggle(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).text().toLowerCase().indexOf(value) > -1);\n      });\n    } else {\n      // show all if search input less then 2\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(\".calendar-cards .card\").show();\n    }\n  }); // Filter on type tags\n\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.tags .tag').on('click', function () {\n    if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).hasClass(\"selected\")) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).removeClass(\"selected\");\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('.calendar-cards .card').show();\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('.tags .tag').removeClass(\"selected\");\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('.calendar-cards .card').show();\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).text() === \"Amendment\") {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).addClass('selected');\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('.calendar-cards .card').filter(':not([data-type=\"Amendment\"])').hide();\n      }\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).text() === \"New\") {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).addClass('selected');\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('.calendar-cards .card').filter(':not([data-type=\"New\"])').hide();\n      }\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).text() === \"Errata\") {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).addClass('selected');\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('.calendar-cards .card').filter(':not([data-type=\"Errata\"])').hide();\n      }\n    }\n  });\n}\n\n;\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/toolkit.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/utils/helpers.js":
/*!*****************************************************!*\
  !*** ./src/assets/toolkit/scripts/utils/helpers.js ***!
  \*****************************************************/
/*! exports provided: checkHttpStatus, isElementHidden, hasProp, removeAttribute, isAppleMobileDevice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkHttpStatus\", function() { return checkHttpStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isElementHidden\", function() { return isElementHidden; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasProp\", function() { return hasProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeAttribute\", function() { return removeAttribute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAppleMobileDevice\", function() { return isAppleMobileDevice; });\n/**\n * Utility library with helper functions.\n *\n * It **SHOULD NOT** be used as a standalone library, but only\n * imported as a dependency.\n *\n * Add **ONLY** function that are generic enough to be reused\n * by almost any module.\n */\n\n/**\n * Checks HTTP response status and if permitted (200-299), passes the response.\n * Otherwise, an exception is thrown.\n *\n * @param {Response} response\n * @throws {Error}\n */\nfunction checkHttpStatus(response) {\n  if (response.status >= 300 || response.status < 200) {\n    var error = new Error(\"Incorrect response HTTP status #\".concat(response.status, \" (\").concat(response.statusText, \") received.\"));\n    error.response = response;\n    throw error;\n  }\n\n  return response;\n}\n/**\n * Checks whether an element is `display: none;` or not.\n *\n * @param {Element} element - DOM Element.\n *\n * @return {boolean}\n */\n\nfunction isElementHidden(element) {\n  return element.offsetParent === null; // *ONLY* happens when the element is not fixed\n}\n/**\n * Tests whether a property/attribute exists on a given {Object}. This is a\n * safe implementation of `Object.hasOwnProperty()`\n *\n * @param {Object} obj - Object to test the existence of the attribute on.\n * @param {String} propName - Name of the attribute to test.\n */\n\nfunction hasProp(obj, propName) {\n  return Object.prototype.hasOwnProperty.call(obj, propName);\n}\n/**\n * Remove attribute from a DOM Element in a browser-compatible manner.\n *\n * @param {Element} domElement\n * @param {string} attributeName\n */\n\nfunction removeAttribute(domElement, attributeName) {\n  domElement.setAttribute(attributeName, false); // Hack for IE11 / MS Edge\n\n  domElement.removeAttribute(attributeName); // All other normal browsers\n}\n/**\n * Detects if the device is likely to be from Apple.\n * Should only be used for fixing or hacking critical issues.\n *\n * @param {String} customUserAgent -\n *  Allows to specify the HTTP Header's `User-Agent` string.\n *\n * @return {boolean}\n */\n\nfunction isAppleMobileDevice(customUserAgent) {\n  var userAgent = customUserAgent || (typeof window.navigator !== 'undefined' ? window.navigator.userAgent : '');\n  return /iPhone|iPod|iPad/i.test(userAgent) && !/Windows Phone/i.test(userAgent);\n}\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/utils/helpers.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/vendors/url.js":
/*!***************************************************!*\
  !*** ./src/assets/toolkit/scripts/vendors/url.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var require;\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return _typeof2(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : _typeof2(obj);\n};\n\n(function (f) {\n  if (( false ? undefined : _typeof(exports)) === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var g; }\n})(function () {\n  var define, module, exports;\n  return function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a) return require(o, !0);\n          if (i) return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f;\n        }\n\n        var l = n[o] = {\n          exports: {}\n        };\n        t[o][0].call(l.exports, function (e) {\n          var n = t[o][1][e];\n          return s(n ? n : e);\n        }, l, l.exports, e, t, n, r);\n      }\n\n      return n[o].exports;\n    }\n\n    var i = typeof require == \"function\" && require;\n\n    for (var o = 0; o < r.length; o++) {\n      s(r[o]);\n    }\n\n    return s;\n  }({\n    1: [function (require, module, exports) {\n      window.addEventListener(\"popstate\", function (e) {\n        Url.triggerPopStateCb(e);\n      });\n      var Url = module.exports = {\n        _onPopStateCbs: [],\n        _isHash: false,\n        queryString: function queryString(name, notDecoded) {\n          name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n          var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n              results = regex.exec(location.search),\n              encoded = null;\n\n          if (results === null) {\n            regex = new RegExp(\"[\\\\?&]\" + name + \"(\\\\&([^&#]*)|$)\");\n\n            if (regex.test(location.search)) {\n              return true;\n            }\n\n            return undefined;\n          } else {\n            encoded = results[1].replace(/\\+/g, \" \");\n\n            if (notDecoded) {\n              return encoded;\n            }\n\n            return decodeURIComponent(encoded);\n          }\n        },\n        parseQuery: function parseQuery(search) {\n          var query = {};\n\n          if (typeof search !== \"string\") {\n            search = window.location.search;\n          }\n\n          search = search.replace(/^\\?/g, \"\");\n\n          if (!search) {\n            return {};\n          }\n\n          var a = search.split(\"&\"),\n              i = 0,\n              iequ,\n              value = null;\n\n          for (; i < a.length; ++i) {\n            iequ = a[i].indexOf(\"=\");\n\n            if (iequ < 0) {\n              iequ = a[i].length;\n              value = true;\n            } else {\n              value = decodeURIComponent(a[i].slice(iequ + 1));\n            }\n\n            query[decodeURIComponent(a[i].slice(0, iequ))] = value;\n          }\n\n          return query;\n        },\n        stringify: function stringify(queryObj) {\n          if (!queryObj || queryObj.constructor !== Object) {\n            throw new Error(\"Query object should be an object.\");\n          }\n\n          var stringified = \"\";\n          Object.keys(queryObj).forEach(function (c) {\n            var value = queryObj[c];\n            stringified += c;\n\n            if (value !== true) {\n              stringified += \"=\" + encodeURIComponent(queryObj[c]);\n            }\n\n            stringified += \"&\";\n          });\n          stringified = stringified.replace(/\\&$/g, \"\");\n          return stringified;\n        },\n        updateSearchParam: function updateSearchParam(param, value, push, triggerPopState) {\n          var searchParsed = this.parseQuery();\n\n          if (value === undefined) {\n            delete searchParsed[param];\n          } else {\n            if (searchParsed[param] === value) {\n              return Url;\n            }\n\n            searchParsed[param] = value;\n          }\n\n          var newSearch = \"?\" + this.stringify(searchParsed);\n\n          this._updateAll(window.location.pathname + newSearch + location.hash, push, triggerPopState);\n\n          return Url;\n        },\n        getLocation: function getLocation() {\n          return window.location.pathname + window.location.search + window.location.hash;\n        },\n        hash: function hash(newHash, triggerPopState) {\n          if (newHash === undefined) {\n            return location.hash.substring(1);\n          }\n\n          if (!triggerPopState) {\n            setTimeout(function () {\n              Url._isHash = false;\n            }, 0);\n            Url._isHash = true;\n          }\n\n          return location.hash = newHash;\n        },\n        _updateAll: function _updateAll(s, push, triggerPopState) {\n          window.history[push ? \"pushState\" : \"replaceState\"](null, \"\", s);\n\n          if (triggerPopState) {\n            Url.triggerPopStateCb({});\n          }\n\n          return s;\n        },\n        pathname: function pathname(_pathname, push, triggerPopState) {\n          if (_pathname === undefined) {\n            return location.pathname;\n          }\n\n          return this._updateAll(_pathname + window.location.search + window.location.hash, push, triggerPopState);\n        },\n        triggerPopStateCb: function triggerPopStateCb(e) {\n          if (this._isHash) {\n            return;\n          }\n\n          this._onPopStateCbs.forEach(function (c) {\n            c(e);\n          });\n        },\n        onPopState: function onPopState(cb) {\n          this._onPopStateCbs.push(cb);\n        },\n        removeHash: function removeHash() {\n          this._updateAll(window.location.pathname + window.location.search, false, false);\n        },\n        removeQuery: function removeQuery() {\n          this._updateAll(window.location.pathname + window.location.hash, false, false);\n        },\n        version: \"2.3.1\"\n      };\n    }, {}]\n  }, {}, [1])(1);\n});\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/vendors/url.js?");

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = jQuery;\n\n//# sourceURL=webpack:///external_%22jQuery%22?");

/***/ })

/******/ });